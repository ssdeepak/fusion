import"./chunk-6PUQKAZU.js";import"./chunk-FUWO5VGL.js";import"./chunk-4DZAKISB.js";import"./chunk-7GEWEY44.js";import"./chunk-7E4KALHZ.js";import"./chunk-W625KHT5.js";import"./chunk-655SYXLQ.js";import"./chunk-NDAQC43D.js";import"./chunk-NMYJD6OP.js";import"./chunk-B43CU5JX.js";import"./chunk-TQEIIVVC.js";import"./chunk-LF5XB4YN.js";import"./chunk-T4WK6ZIE.js";import"./chunk-F7XBNY6P.js";import"./chunk-VLESUBHY.js";import"./chunk-AJPISUXH.js";import{c as Te,d as ze,e as $e,f as Ee,g as Ce,h as Ze,i as Xe,j as Se,k as Je,l as Qe,m as be,n as et,o as tt,p as nt,q as it}from"./chunk-2SUXZRV6.js";import{a as Z}from"./chunk-4OGH6Q66.js";import"./chunk-6D2PQ4BF.js";import{a as ot}from"./chunk-VOT4QOQ7.js";import{a as We,c as Ge,d as qe}from"./chunk-STP3VB3D.js";import"./chunk-3MICEEYE.js";import{b as X,e as he,g as _e,j as Ye,x as $,y as fe}from"./chunk-TL3SOKZG.js";import{o as re}from"./chunk-2UOGX6KS.js";import{g as Ke,i as Ne,j as He}from"./chunk-FB7CDEED.js";import{$a as b,Ab as Le,Da as De,Ia as q,Na as F,Oa as Ie,Pa as A,Pb as z,Qa as H,Ra as le,Rb as Ue,Ua as Q,V as K,Va as ne,Xa as ie,Ya as oe,Za as l,_a as m,aa as Oe,ab as O,ba as I,bb as D,ca as V,cb as j,da as ke,db as S,dc as ce,ea as we,eb as _,ec as ue,fc as Ae,hc as G,ib as Ve,ja as te,jb as Re,ka as P,kb as Be,mb as w,na as pe,nb as se,ob as Y,ya as u,yb as N,za as de,zb as je}from"./chunk-XIWENJHJ.js";import{i as ee}from"./chunk-BL3FZZIZ.js";var R=function(i){return i.NotSet="NotSet",i.GUID="GUID",i.AUTO="AUTO",i.STRING="STRING",i.NUM="NUM",i.BOOL="BOOL",i.ENUM="ENUM",i.IMAGE="IMAGE",i.DATE="DATE",i.COLOR="COLOR",i.EMAIL="EMAIL",i.PASSWORD="PASSWORD",i.TEL="TEL",i.URL="URL",i.WEEK="WEEK",i.TIME="TIME",i.OBJECT="OBJECT",i.OBJECTS="OBJECTS",i.RELATED="RELATED",i.ONE="ONE",i.MANY="MANY",i.COMPUTED="COMPUTED",i}(R||{});var ge=class{constructor(){this.value=""}setValue(e){this.value=e}isGUID(){return this.value==="GUID"}isAUTO(){return this.value==="AUTO"}isSTRING(){return this.value==="STRING"}isNUM(){return this.value==="NUM"}isBOOL(){return this.value==="BOOL"}isENUM(){return this.value==="ENUM"}isIMAGE(){return this.value==="IMAGE"}isDATE(){return this.value==="DATE"}isCOLOR(){return this.value==="COLOR"}isEMAIL(){return this.value==="EMAIL"}isPASSWORD(){return this.value==="PASSWORD"}isTEL(){return this.value==="TEL"}isURL(){return this.value==="URL"}isWEEK(){return this.value==="WEEK"}isTIME(){return this.value==="TIME"}isOBJECT(){return this.value==="OBJECT"}isOBJECTS(){return this.value==="OBJECTS"}isRELATEDBranch(){return!!(this.isONE()||this.isMANY())}isRELATED(){return!!this.isRELATEDBranch()}isONE(){return this.value==="ONE"}isMANY(){return this.value==="MANY"}isCOMPUTED(){return this.value==="COMPUTED"}};var U=function(i){return i.NotSet="NotSet",i.DetailPage="DetailPage",i.ListPage="ListPage",i.DetailFkPage="DetailFkPage",i.MasterDetailPage="MasterDetailPage",i.MasterDetailFkPage="MasterDetailFkPage",i.CreatePage="CreatePage",i.CreateFkPage="CreateFkPage",i.UpdatePage="UpdatePage",i.UpdateFkPage="UpdateFkPage",i.Components="Components",i.Pickers="Pickers",i.Modals="Modals",i.Filters="Filters",i.AgentPage="AgentPage",i.SearchPage="SearchPage",i}(U||{});var ve=class{constructor(){this.value=""}setValue(e){this.value=e}isDetailPage(){return this.value==="DetailPage"}isListPage(){return this.value==="ListPage"}isDetailFkPage(){return this.value==="DetailFkPage"}isMasterDetailPage(){return this.value==="MasterDetailPage"}isMasterDetailFkPage(){return this.value==="MasterDetailFkPage"}isCreatePage(){return this.value==="CreatePage"}isCreateFkPage(){return this.value==="CreateFkPage"}isUpdatePage(){return this.value==="UpdatePage"}isUpdateFkPage(){return this.value==="UpdateFkPage"}isComponents(){return this.value==="Components"}isPickers(){return this.value==="Pickers"}isModals(){return this.value==="Modals"}isFilters(){return this.value==="Filters"}isAgentPage(){return this.value==="AgentPage"}isSearchPage(){return this.value==="SearchPage"}};var h=function(i){return i.NotSet="NotSet",i.GET="GET",i.MANY="MANY",i.FetchMany="FetchMany",i.FetchManyByFk="FetchManyByFk",i.KeysProvider="KeysProvider",i.ONE="ONE",i.FetchOne="FetchOne",i.FetchOneFk="FetchOneFk",i.POST="POST",i.Create="Create",i.CreateByFk="CreateByFk",i.Search="Search",i.Filter="Filter",i.Agent="Agent",i.PUT="PUT",i.Update="Update",i.UpdateByFk="UpdateByFk",i.DELETE="DELETE",i.Delete="Delete",i.DeleteByFk="DeleteByFk",i}(h||{});var ye=class{constructor(){this.value=""}setValue(e){this.value=e}isGETBranch(){return!!(this.isMANYBranch()||this.isONEBranch())}isGET(){return!!this.isGETBranch()}isMANYBranch(){return!!(this.isFetchMany()||this.isFetchManyByFk()||this.isKeysProvider())}isMANY(){return!!this.isMANYBranch()}isFetchMany(){return this.value==="FetchMany"}isFetchManyByFk(){return this.value==="FetchManyByFk"}isKeysProvider(){return this.value==="KeysProvider"}isONEBranch(){return!!(this.isFetchOne()||this.isFetchOneFk())}isONE(){return!!this.isONEBranch()}isFetchOne(){return this.value==="FetchOne"}isFetchOneFk(){return this.value==="FetchOneFk"}isPOSTBranch(){return!!(this.isCreate()||this.isCreateByFk()||this.isSearch()||this.isFilter()||this.isAgent())}isPOST(){return!!this.isPOSTBranch()}isCreate(){return this.value==="Create"}isCreateByFk(){return this.value==="CreateByFk"}isSearch(){return this.value==="Search"}isFilter(){return this.value==="Filter"}isAgent(){return this.value==="Agent"}isPUTBranch(){return!!(this.isUpdate()||this.isUpdateByFk())}isPUT(){return!!this.isPUTBranch()}isUpdate(){return this.value==="Update"}isUpdateByFk(){return this.value==="UpdateByFk"}isDELETEBranch(){return!!(this.isDelete()||this.isDeleteByFk())}isDELETE(){return!!this.isDELETEBranch()}isDelete(){return this.value==="Delete"}isDeleteByFk(){return this.value==="DeleteByFk"}};var Pe=class{constructor(){this.p=new he,this.pe=new ve,this.ve=new ye,this.dte=new ge,this.relativeUrl=e=>{if(!e.path)return"";let o=e.path.toLowerCase(),t="";if(o.length>0){let n=o.split("/");if(n.length>0){n.forEach(a=>{if(a.includes("#")){let p=a.replaceAll("#",""),d=this.getTableColumn(p);t+=`/:${d.column}/`}else t+=`${a}`});let r=t.split("/");t="";for(let a=1;a<r.length;a++){let p=r[a];p.length>0&&!p.endsWith("/")?t+=p+"/":t+=p}return t}}return o}}makeIonicComponent(e,o){this.p=e;let t=e.api.find(r=>r.key===o.apiKey);if(!t)return;let n=new Z;return n.AppendLine("<!DOCTYPE html>"),n.AppendLine('<html lang="en">'),this.header(n,e),n.AppendLine("<body>"),this.ionApp(n,e,t,o),n.AppendLine("    <script>"),this.makeRecords(n,e,t),this.generateStateVariables(n,e,t),this.makeApis(n,e,t,o),this.makeTabs(n,e,t,o),this.makeLogin(n,e,t,o),this.makeImagePicker(n,e,t,o),this.makeKeyProviders(n,e,t,o),this.masterAndDetail(n,e,t,o),this.makeModalForms(n,e,t,o),n.AppendLine("    <\/script>"),n.AppendLine("</body>"),n.AppendLine("</html>"),n.toString()}ionApp(e,o,t,n){let r=t.routes,a=n.pages;e.AppendLine("//#region IonApp"),e.AppendLine("    <ion-app>"),e.AppendLine('        <ion-split-pane content-id="main" when="sm">'),e.AppendLine("            <!--  the side menu  -->"),e.AppendLine('            <ion-menu content-id="main">'),e.AppendLine("                <ion-header>"),e.AppendLine("                    <ion-toolbar>"),e.AppendLine(`                        <ion-title>${o.key}</ion-title>`),e.AppendLine("                    </ion-toolbar>"),e.AppendLine("                </ion-header>"),e.AppendLine("                <ion-content>"),e.AppendLine("                    <ion-list>"),e.AppendLine('                      <ion-item href="#/login">'),e.AppendLine('                            <ion-icon name="log-in" slot="start"></ion-icon>'),e.AppendLine("                            <ion-label>login</ion-label>"),e.AppendLine("                        </ion-item>"),e.AppendLine('                        <ion-item href="#/account">'),e.AppendLine('                            <ion-icon slot="start" name="key-outline"></ion-icon>'),e.AppendLine("                            <ion-label> Account </ion-label>"),e.AppendLine("                        </ion-item>"),e.AppendLine('                        <ion-item href="#/support">'),e.AppendLine('                            <ion-icon slot="start" name="help"></ion-icon>'),e.AppendLine("                            <ion-label> Support </ion-label>"),e.AppendLine("                        </ion-item>");for(let y of a)if(this.pe.setValue(y.pageType),this.pe.isMasterDetailPage()){let x=r.find(f=>f.key===y.routeKey);x&&(e.AppendLine(`                        <ion-item href="#/${this.url(x).toLowerCase()}">`),e.AppendLine('                            <ion-icon name="list-outline" slot="start"></ion-icon>'),e.AppendLine(`                            <ion-label>${y.tableKey}</ion-label>`),e.AppendLine("                        </ion-item>"))}else if(this.pe.isMasterDetailFkPage()){let x=r.find(f=>f.key===y.routeKey);x&&(e.AppendLine(`                        <ion-item href="#/${this.url(x).toLowerCase()}link">`),e.AppendLine('                            <ion-icon name="list-outline" slot="start"></ion-icon>'),e.AppendLine(`                            <ion-label>${y.tableKey}</ion-label>`),e.AppendLine("                        </ion-item>"))}else if(this.pe.isCreatePage()){let x=r.find(f=>f.key===y.routeKey);x&&(e.AppendLine(`                        <ion-item href="#/${this.url(x).toLowerCase()}">`),e.AppendLine('                            <ion-icon name="add-outline" slot="start"></ion-icon>'),e.AppendLine(`                            <ion-label>${y.tableKey}</ion-label>`),e.AppendLine("                        </ion-item>"))}e.AppendLine("                    </ion-list>"),e.AppendLine("                </ion-content>"),e.AppendLine("            </ion-menu>"),e.AppendLine("            <!-- the main content -->"),e.AppendLine('            <ion-content id="main">');let p=a[0],d=r.find(y=>y.key===p.routeKey),v="/"+this.url(d).toLowerCase();e.AppendLine("                <ion-router>"),e.AppendLine(`                   <ion-route-redirect from="/" to="/${v}"></ion-route-redirect>`),e.AppendLine('                       <ion-route component="page-tabs">');for(let y of a){this.pe.setValue(y.pageType);let x=r.find(f=>f.key===y.routeKey);if(!x)return;if(y.pageType===U.MasterDetailPage){let f="/"+this.url(x).toLowerCase();e.AppendLine(`                        <ion-route url="${f}" component="${y.key.toLowerCase()}tab">`),e.AppendLine(`                        <ion-route component="${y.key.toLowerCase()}-page"></ion-route>`);for(let g of y.navPages){let c=a.find(T=>T.key===g);if(!c)continue;let s=r.find(T=>T.key===c.routeKey);if(s){e.AppendLine(`                        <ion-route url="/${this.relativeUrl(s).toLowerCase()}" component="${c.key.toLowerCase()}-page"></ion-route>`);for(let T of c.navPages){let M=a.find(E=>E.key===T);if(!M)continue;let L=r.find(E=>E.key===M.routeKey);L&&(L===s||L===x||e.AppendLine(`                        <ion-route url="/${this.relativeUrl(L).toLowerCase()}" component="${M.key.toLowerCase()}-page"></ion-route>`))}}}e.AppendLine(`                       </ion-route><!--${y.key.toLowerCase()}tab-->`)}}e.AppendLine("                       </ion-route><!--page-tabs-->");for(let y of a){let x=r.find(f=>f.key===y.routeKey);if(!x)return;this.pe.setValue(y.pageType),this.pe.isMasterDetailPage()?this.pe.isMasterDetailFkPage()&&(e.AppendLine(`                        <ion-route url="/${this.url(x).toLowerCase()}link" component="${y.key.toLowerCase()}linktab">`),e.AppendLine("                        </ion-route>")):this.pe.isCreatePage()&&(e.AppendLine(`                        <ion-route url="/${this.url(x).toLowerCase()}" component="${y.key.toLowerCase()}">`),e.AppendLine("                        </ion-route>"))}e.AppendLine('                        <ion-route url="/login" component="login-page"></ion-route>'),e.AppendLine('                        <ion-route url="/support" component="support-page"></ion-route>'),e.AppendLine('                        <ion-route url="/account" component="account-page"></ion-route>'),e.AppendLine('                        <ion-route url="about" component="abouttab">'),e.AppendLine('                            <ion-route component="about-page"></ion-route>'),e.AppendLine("                        </ion-route>"),e.AppendLine("                </ion-router>"),e.AppendLine("                <ion-router-outlet></ion-router-outlet>"),e.AppendLine("            </ion-content>"),e.AppendLine("        </ion-split-pane>"),e.AppendLine("    </ion-app>"),e.AppendLine("//#endregion IonApp")}makeRecords(e,n,t){e.AppendLine("//#region SeedData");var n=this.p;let r=n.schema.find(T=>T.key===t.schemaKey);if(!r)return;let a=r.tables,p=n.seed.find(T=>T.schemaKey===r.key);if(!p)return;let d=p.records;for(var v of a){var y=v.key,x=y.toLowerCase(),f=v.plural,g=f.toLowerCase(),c=d.filter(T=>T.tableKey===y);e.AppendLine(`      var ${x}array = [`);var s="                ";for(let T of c)this.recursivelyGetRecords(s,e,v,T);e.AppendLine("      ];")}e.AppendLine("//#endregion SeedData")}recursivelyGetRecords(e,o,t,n){o.AppendLine(`${e}{`),o.AppendLine(`${e}  isVisible: true,`);for(var r of n.fields)this.getFieldValue(r,o,e);o.AppendLine(`${e}},`)}getFieldValue(e,o,t,n=""){var r=n+e.key,a=$.getTs(r),p=e.content;e.type===R.ONE?o.AppendLine(`${t} ${a}: '${p}',`):e.type===R.MANY||e.type===R.OBJECTS||e.type===R.OBJECT||e.type===R.COMPUTED||(e.type===R.BOOL?o.AppendLine(`${t} ${a}: true ,`):e.type===R.NUM?o.AppendLine(`${t} ${a}:   ${p}  ,`):e.type===R.IMAGE?o.AppendLine(`${t} ${a}: '${p}',`):o.AppendLine(`${t} ${a}: '${p}',`))}generateStateVariables(e,o,t){let n=o.schema.find(r=>r.key===t.schemaKey);e.AppendLine("//#region State"),e.AppendLine("const state = {");for(let r of t.routes)if(r.verb===h.KeysProvider){let a=r.key;e.AppendLine(`        current${a}: undefined,`)}if(n)for(let r of n.tables)e.AppendLine(`        current${r.key}: undefined,`);e.AppendLine("};"),e.AppendLine("function setState(key, value) {"),e.AppendLine("    state[key] = value;"),e.AppendLine("    document.dispatchEvent(new CustomEvent('stateChange', { detail: { key, value } }));"),e.AppendLine("}"),e.AppendLine("function getState(key) {"),e.AppendLine("    return state[key];"),e.AppendLine("}"),e.AppendLine("//#endregion State")}makeApis(e,o,t,n){e.AppendLine("        //#region makeApis");let r=t.routes,a=o.schema.find(f=>f.key===t.schemaKey);if(!a){alert(`Schema not found ${t.schemaKey}`);return}let p=a.tables;for(let f of r){let g=$.getTs(f.key),c=p.find(L=>L.key===f.tableKey);if(!c){alert(`Table not found ${f.tableKey} in ${f.key}`);return}var d=f.tableKey,v=d.toLowerCase();if(!c.columns.find(L=>L.type===R.AUTO||L.type===R.GUID)){alert(`Primary key not found for ${f.key}`);return}let T=new Z,M=new Z;if(f.requestKeys.length>0){for(let L of f.requestKeys)if(L&&L.length>0){let E=this.getColumn(L),C=$.getTs(E);T.Append(`${C},`),M.Append(`${C} === itm.${C}&&`)}T.toString().length>2&&T.remove(1),M.toString().length>2&&M.remove(2)}if(f.verb===h.Filter){e.AppendLine(`        const  ${g} = (${T.toString()}) =>  {   `),e.AppendLine(`            const arr = ${v}array ;`),e.AppendLine("            var body = [];"),e.AppendLine("            arr.forEach((itm) => {"),e.AppendLine(`                if (${M.toString()}) {`),e.AppendLine("                    body.push({");for(let L of f.responseKeys){let E=this.getColumn(L),C=$.getTs(E);e.AppendLine(`                        ${C}: itm.${C},`)}e.AppendLine("                    });"),e.AppendLine("                }"),e.AppendLine("            });"),e.AppendLine("            return body;"),e.AppendLine("        };")}else if(f.verb===h.KeysProvider){e.AppendLine(`        const  ${g} = ( ) =>  {   `),e.AppendLine(`            const arr = ${v}array ;`),e.AppendLine("            var uniqueArray = [];");let L=new Z;for(let E of f.responseKeys)if(E&&E.length>0){let C=this.getColumn(E),k=$.getTs(C);L.Append(`item.${k}`);break}e.AppendLine(`            var itemtype = arr.map((item) => ${L} );`),e.AppendLine("            var uniq = [...new Set(itemtype)];"),e.AppendLine(`            //make unique   ${g} into an array of objects`),e.AppendLine("            uniq.map((item) => {"),e.AppendLine("                uniqueArray.push({");for(let E of f.responseKeys){let C=this.getColumn(E),k=$.getTs(C);e.AppendLine(`                    ${k}: item,`)}e.AppendLine("                });"),e.AppendLine("            });"),e.AppendLine("            return uniqueArray;"),e.AppendLine("        };")}else if(f.verb===h.Search){e.AppendLine(`        const  ${g} = (search) =>  {   `),e.AppendLine(`            const arr = ${v}array ;`);for(let L of f.navRoutes){let E=r.find(C=>C.key===L);if(E){let C=$.getTs(E.key);e.AppendLine(`            const body = ${C}Body(); `)}}var y=new Z;for(let L of f.requestKeys)if(L&&L.length>0){let E=this.getColumn(L),C=$.getTs(E);y.Append(`itm.${C}.toLowerCase().includes(search.toLowerCase())||`)}y.toString().length>2&&y.remove(2),e.AppendLine("            const searched = arr.filter((itm) => {"),e.AppendLine(`                return ${y.toString()};`),e.AppendLine("            });"),e.AppendLine("        searched.forEach((itm) => {"),e.AppendLine("          body.push({"),e.AppendLine("            isVisible: true,");for(let L of f.responseKeys){let E=this.getColumn(L),C=$.getTs(E),k=c.columns.find(B=>B.key===E);k&&(k.type===R.MANY?e.AppendLine(`            ${C}: [],`):e.AppendLine(`            ${C}: itm.${C},`))}e.AppendLine("              });"),e.AppendLine("            });"),e.AppendLine("            return body;"),e.AppendLine("        };")}else if(f.verb===h.FetchMany||f.verb===h.FetchManyByFk){e.AppendLine(`  const ${g} = (${T.toString()}) => {`),e.AppendLine(`      const body = ${g}Body(); `),e.AppendLine(`      let filtedted = ${v}array ;`),T.toString().length>0&&f.responseKeys.length>0&&e.AppendLine(`      filtedted = filtedted.filter((itm) => ${M.toString()});`),e.AppendLine("        filtedted.forEach((itm) => {"),e.AppendLine("          body.push({"),e.AppendLine("            isVisible: true,");for(let L of f.responseKeys){let E=this.getColumn(L),C=$.getTs(E),k=c.columns.find(B=>B.key===E);k&&(k.type===R.MANY?e.AppendLine(`            ${C}: [],`):e.AppendLine(`            ${C}: itm.${C},`))}e.AppendLine("              });"),e.AppendLine("            });"),e.AppendLine("            return body;"),e.AppendLine("        };"),this.getBody(e," ",f,a)}else if(f.verb===h.FetchOne||f.verb===h.FetchOneFk){e.AppendLine(`  const ${g} = (${T.toString()}) => {`),e.AppendLine(`      const itms = ${v}array ;`),e.AppendLine(`       var ${v} = itms.find((itm) => ${M.toString()});`),e.AppendLine(`      const body = ${g}Body(); `),e.AppendLine(`      if (${v}) {`),e.AppendLine("        body.push({"),e.AppendLine("          isVisible: true,");for(let L of f.responseKeys){let E=this.getColumn(L),C=$.getTs(E),k=c.columns.find(B=>B.key===E);k&&(k.type===R.MANY?e.AppendLine(`            ${C}: [],`):e.AppendLine(`            ${C}: itm.${C},`))}e.AppendLine("              });"),e.AppendLine("            } "),e.AppendLine("            return body;"),e.AppendLine("        };"),this.getBody(e," ",f,a)}else if(f.verb===h.Create||f.verb===h.CreateByFk){var x="newitm";T.toString().length>0&&(x=",newitm"),e.AppendLine(`  const ${g} = (${T.toString()} ${x}) => {`),e.AppendLine(`      const itms = ${v}array ;`);for(let L of f.requestKeys){let E,C=this.getTableColumn(L);if(C.table===c.key)E=c.columns.find(W=>W.key===C.column);else{let W=p.find(J=>J.key===C.table);W&&(E=W.columns.find(J=>J.key===C.column))}let k=C.column,B=$.getTs(k);E&&(E.type===R.MANY||e.AppendLine(`          newitm.${B} = ${B} ;`))}e.AppendLine("      itms.push(newitm);"),e.AppendLine("      return newitm;"),e.AppendLine("    };")}else if(f.verb===h.Update||f.verb===h.UpdateByFk){var x="newitm";T.toString().length>0&&(x=",newitm"),e.AppendLine(`  const ${g} = (${T.toString()} ${x}) => {`),e.AppendLine(`      const itms = ${v}array ;`),e.AppendLine(`      const ${v} = itms.find((itm) => ${M.toString()});`),e.AppendLine(`      if (${v}) {`);for(let E of f.payloadKeys){let C,k=this.getTableColumn(E);if(k.table===c.key)C=c.columns.find(J=>J.key===k.column);else{let J=p.find(xe=>xe.key===k.table);J&&(C=J.columns.find(xe=>xe.key===k.column))}let B=k.column,W=$.getTs(B);C&&(C.type===R.MANY||e.AppendLine(`          ${v}.${W} = newitm.${W};`))}e.AppendLine("      }"),e.AppendLine(`      return ${v};`),e.AppendLine("    };")}}e.AppendLine("        //#endregion makeApis")}getBody(e,o,t,n){let r=t.responseKeys,a=t.tableKey;if(!r.length)return;if(!n.tables.find(y=>y.key===a)){alert(`Table not found ${a} in ${t.key}`);return}let d=n.tables,v=$.getTs(t.key);if(t.verb===h.FetchMany||t.verb===h.FetchManyByFk)e.AppendLine(`${o} const ${v}Body = ( ) => {`),e.AppendLine(`${o} const body = [`),this.getResponseJsonShape(e,o,t,r,d),e.AppendLine(`${o} ];`),e.AppendLine(`${o} return body;`),e.AppendLine(`${o} };`);else if(t.verb===h.FetchOne||t.verb===h.FetchOneFk){e.AppendLine(`${o} const ${v}Body = ( ) => {`);let y=new Z;this.getResponseJsonShape(y,o,t,r,d),e.AppendLine(`${o} const json = ${y.toString()} `),e.AppendLine(`${o} return json;`),e.AppendLine(`${o} };`)}}getResponseJsonShape(e,o,t,n,r){e.AppendLine(`${o} {`),e.AppendLine(`${o}   isVisible: true,`);let a=r.find(p=>p.key===t.tableKey);if(!a){alert(`Table not found ${t.tableKey} in ${t.key}`);return}for(let p of n){if(p.length===0)continue;let d,v=this.getTableColumn(p);if(v.table===a.key)d=a.columns.find(f=>f.key===v.column);else{let f=r.find(g=>g.key===v.table);f&&(d=f.columns.find(g=>g.key===v.column))}let y=v.column;if(!d){alert(`getResponseJsonShape Column not found ${p} in ${t.key}`);return}let x=$.getTs(y);if(this.dte.setValue(d.type),!this.dte.isOBJECT()){if(!this.dte.isOBJECTS())if(this.dte.isRELATED()&&d.foreignType){let f=r.find(g=>g.key===d.foreignType);if(f){let g=!1,c;for(let s of f.columns)s.type===R.AUTO?(g=!0,c=s):s.type===R.GUID&&(g=!1,c=s);c&&(d.type===R.ONE?g?e.AppendLine(`${o} ${x}: 0,`):e.AppendLine(`${o} ${x}: '00000000-0000-0000-0000-000000000000',`):d.type===R.MANY&&e.AppendLine(`${o} ${x}: [],`))}}else this.dte.isCOMPUTED()||(this.dte.isBOOL()?e.AppendLine(`${o} ${x}:  true,`):this.dte.isNUM()?e.AppendLine(`${o} ${x}:  0 ,`):e.AppendLine(`${o} ${x}: '',`))}}e.AppendLine(`${o}  }`)}header(e,o){e.AppendLine("<head>"),e.AppendLine('    <meta charset="UTF-8" />'),e.AppendLine('    <meta name="viewport" content="width=device-width, initial-scale=1.0" />'),this.scripts(e,o,"localserver"),this.style(e,o),e.AppendLine("</head>")}makeTabs(e,o,t,n){let r=n.pages;if(o.schema.find(p=>p.key===t.schemaKey)){e.AppendLine("//#region PageTabs"),e.AppendLine("        customElements.define("),e.AppendLine('            "page-tabs",'),e.AppendLine("            class extends HTMLElement {"),e.AppendLine("                static get observedAttributes() {"),e.AppendLine("                    return ['items'];"),e.AppendLine("                }"),e.AppendLine("                // attribute change"),e.AppendLine("                attributeChangedCallback(property, oldValue, newValue) {"),e.AppendLine("                    if (oldValue === newValue) return;"),e.AppendLine("                    this[property] = newValue;"),e.AppendLine("                }"),e.AppendLine("                data = [];"),e.AppendLine("                constructor() {"),e.AppendLine("                    super();"),e.AppendLine("                }"),e.AppendLine("                connectedCallback() {"),e.AppendLine("                    this.innerHTML = `<ion-tabs>");for(let p of r){let d=t.routes.find(v=>v.key===p.routeKey);if(!d){alert(`Route not found ${p.routeKey}`);return}if(this.pe.setValue(p.pageType),this.pe.isMasterDetailPage()){e.AppendLine(`    <ion-tab tab="${p.key.toLowerCase()}tab">`),e.AppendLine(`        <ion-router-outlet name="${p.key.toLowerCase()}tab"></ion-router-outlet>`),e.AppendLine(`        <ion-route url="/${this.url(d).toLowerCase()}" component="${p.key.toLowerCase()}-page"></ion-route>`),e.AppendLine("    </ion-tab>");break}}for(let p of r){let d=t.routes.find(v=>v.key===p.routeKey);if(d)this.pe.isMasterDetailFkPage()?(e.AppendLine(`    <ion-tab tab="${p.key.toLowerCase()}tab">`),e.AppendLine(`        <ion-router-outlet name="${p.key.toLowerCase()}tab"></ion-router-outlet>`),e.AppendLine(`        <ion-route url="/${this.url(d).toLowerCase()}" component="${p.key.toLowerCase()}-page"></ion-route>`),e.AppendLine("    </ion-tab>")):this.pe.isCreatePage();else return}e.AppendLine('    <ion-tab tab="abouttab">'),e.AppendLine('        <ion-router-outlet name="abouttab"></ion-router-outlet>'),e.AppendLine("    </ion-tab>"),e.AppendLine('    <ion-tab-bar slot="bottom">');for(let p of r)this.pe.setValue(p.pageType),this.pe.isMasterDetailPage()?(e.AppendLine(`        <ion-tab-button tab="${p.key.toLowerCase()}tab">`),e.AppendLine('            <ion-icon name="list-circle"></ion-icon>'),e.AppendLine(`            <ion-label>${p.key}</ion-label>`),e.AppendLine("        </ion-tab-button>")):this.pe.isMasterDetailFkPage()?(e.AppendLine(`        <ion-tab-button tab="${p.key.toLowerCase()}linktab">`),e.AppendLine('            <ion-icon name="list-circle"></ion-icon>'),e.AppendLine(`            <ion-label>${p.key}</ion-label>`),e.AppendLine("        </ion-tab-button>")):this.pe.isCreatePage();e.AppendLine('        <ion-tab-button tab="abouttab">'),e.AppendLine('            <ion-icon name="information-circle"></ion-icon>'),e.AppendLine("            <ion-label>About</ion-label>"),e.AppendLine("        </ion-tab-button>"),e.AppendLine("    </ion-tab-bar>"),e.AppendLine("</ion-tabs>`;"),e.AppendLine("                }"),e.AppendLine("            }"),e.AppendLine("        );"),e.AppendLine("//#endregion MakeTabs")}}makeLogin(e,o,t,n){let r=n.pages;if(o.schema.find(p=>p.key===t.schemaKey)){e.AppendLine("//#region LoginSupport"),e.AppendLine("          customElements.define("),e.AppendLine('            "login-page",'),e.AppendLine("            class extends HTMLElement {"),e.AppendLine("                constructor() {"),e.AppendLine("                    super();"),e.AppendLine("                }"),e.AppendLine("                connectedCallback() {"),e.AppendLine("                    this.innerHTML = `<ion-header>"),e.AppendLine("    <ion-toolbar>"),e.AppendLine('        <ion-buttons slot="start">'),e.AppendLine("            <ion-menu-button></ion-menu-button>"),e.AppendLine("        </ion-buttons>"),e.AppendLine(`        <ion-title>${o.key}</ion-title>`),e.AppendLine("    </ion-toolbar>"),e.AppendLine("</ion-header>"),e.AppendLine("<ion-content>"),e.AppendLine('    <div class="login-logo" style="margin-top:150px;">'),e.AppendLine("    </div>"),e.AppendLine('    <form #loginForm="ngForm" novalidate style="padding:20px;">'),e.AppendLine("        <ion-list>"),e.AppendLine("            <ion-item>"),e.AppendLine('                <ion-label position="stacked" color="primary">Username</ion-label>'),e.AppendLine('                <ion-input type="text" value="ssdeepak" spellcheck="false" autocapitalize="off" required>'),e.AppendLine("                </ion-input>"),e.AppendLine("            </ion-item>"),e.AppendLine("            <ion-item>"),e.AppendLine('                <ion-label position="stacked" color="primary">Password</ion-label>'),e.AppendLine('                <ion-input name="password" type="password" value="*******" required>'),e.AppendLine("                </ion-input>"),e.AppendLine("            </ion-item>"),e.AppendLine("        </ion-list>"),e.AppendLine("        <ion-row>"),e.AppendLine("            <ion-col>");for(let p of r)if(this.pe.setValue(p.pageType),this.pe.isMasterDetailPage()){let d=t.routes.find(v=>v.key===p.routeKey);e.AppendLine(`                <ion-button (click)="onLogin(loginForm)" href="/${this.url(d).toLowerCase()}" expand="block">Login</ion-button>`);break}e.AppendLine("            </ion-col>"),e.AppendLine("            <ion-col>"),e.AppendLine('                <ion-button (click)="onSignup()" color="light" expand="block">Signup</ion-button>'),e.AppendLine("            </ion-col>"),e.AppendLine("        </ion-row>"),e.AppendLine("    </form>"),e.AppendLine("  </ion-content>`;"),e.AppendLine("                }"),e.AppendLine("            }"),e.AppendLine("        );"),e.AppendLine("        customElements.define("),e.AppendLine('            "support-page",'),e.AppendLine("            class extends HTMLElement {"),e.AppendLine("                constructor() {"),e.AppendLine("                    super();"),e.AppendLine("                }"),e.AppendLine("                connectedCallback() {"),e.AppendLine("                    this.innerHTML = `<ion-header>"),e.AppendLine("  <ion-toolbar>"),e.AppendLine('    <ion-buttons slot="start">'),e.AppendLine("      <ion-menu-button></ion-menu-button>"),e.AppendLine("    </ion-buttons>"),e.AppendLine("    <ion-title>Support</ion-title>"),e.AppendLine("  </ion-toolbar>"),e.AppendLine("</ion-header>"),e.AppendLine("<ion-content>"),e.AppendLine('  <div class="support-logo">'),e.AppendLine("  </div>"),e.AppendLine('  <form #submitForm="ngForm" novalidate (ngSubmit)="submit(submitForm)">'),e.AppendLine('    <ion-list lines="none">'),e.AppendLine("      <ion-item>"),e.AppendLine('        <ion-label position="stacked" color="primary">Enter your support message below</ion-label>'),e.AppendLine('        <ion-textarea [(ngModel)]="supportMessage" name="supportQuestion" #supportQuestion="ngModel" rows="6" required></ion-textarea>'),e.AppendLine("      </ion-item>"),e.AppendLine("    </ion-list>"),e.AppendLine('    <ion-text color="danger">'),e.AppendLine('      <p [hidden]="supportQuestion.valid || submitted === false" class="ion-padding-start">'),e.AppendLine("        Support message is required"),e.AppendLine("      </p>"),e.AppendLine("    </ion-text>"),e.AppendLine('    <div class="ion-padding">'),e.AppendLine('      <ion-button expand="block" type="submit">Submit</ion-button>'),e.AppendLine("    </div>"),e.AppendLine("  </form>"),e.AppendLine("</ion-content>`;"),e.AppendLine("                }"),e.AppendLine("            }"),e.AppendLine("        );"),e.AppendLine("        customElements.define("),e.AppendLine('            "account-page",'),e.AppendLine("            class extends HTMLElement {"),e.AppendLine("                constructor() {"),e.AppendLine("                    super();"),e.AppendLine("                }"),e.AppendLine("                connectedCallback() {"),e.AppendLine("                    this.innerHTML = `"),e.AppendLine("<ion-header>"),e.AppendLine("  <ion-toolbar>"),e.AppendLine('    <ion-buttons slot="start">'),e.AppendLine("      <ion-menu-button></ion-menu-button>"),e.AppendLine("    </ion-buttons>"),e.AppendLine("    <ion-title>Account</ion-title>"),e.AppendLine("  </ion-toolbar>"),e.AppendLine("</ion-header>"),e.AppendLine("<ion-content>"),e.AppendLine('  <div *ngIf="username" class="ion-padding-top ion-text-center">'),e.AppendLine('    <img src="https://www.gravatar.com/avatar?d=mm&s=140" alt="avatar">'),e.AppendLine("    <h2>{{username}}</h2>"),e.AppendLine("    <ion-list inset>"),e.AppendLine('      <ion-item (click)="updatePicture()">Update Picture</ion-item>'),e.AppendLine('      <ion-item (click)="changeUsername()">Change Username</ion-item>'),e.AppendLine('      <ion-item (click)="changePassword()">Change Password</ion-item>'),e.AppendLine('      <ion-item (click)="support()">Support</ion-item>'),e.AppendLine('      <ion-item (click)="logout()">Logout</ion-item>'),e.AppendLine("    </ion-list>"),e.AppendLine("  </div>"),e.AppendLine("</ion-content>"),e.AppendLine(" `;"),e.AppendLine("                }"),e.AppendLine("            }"),e.AppendLine("        );"),e.AppendLine("        customElements.define("),e.AppendLine('            "about-page",'),e.AppendLine("            class extends HTMLElement {"),e.AppendLine("                constructor() {"),e.AppendLine("                    super();"),e.AppendLine("                }"),e.AppendLine("                connectedCallback() {"),e.AppendLine("                    this.innerHTML = `"),e.AppendLine("<ion-content>"),e.AppendLine('  <ion-header class="ion-no-border">'),e.AppendLine("    <ion-toolbar>"),e.AppendLine('      <ion-buttons slot="start">'),e.AppendLine("        <ion-menu-button></ion-menu-button>"),e.AppendLine("      </ion-buttons>"),e.AppendLine('      <ion-buttons slot="end">'),e.AppendLine("        <ion-button  >"),e.AppendLine('          <ion-icon slot="icon-only" ios="ellipsis-horizontal" md="ellipsis-vertical"></ion-icon>'),e.AppendLine("        </ion-button>"),e.AppendLine("      </ion-buttons>"),e.AppendLine("    </ion-toolbar>"),e.AppendLine("  </ion-header>"),e.AppendLine('  <div class="about-info">'),e.AppendLine('    <h3 class="ion-padding-top ion-padding-start">About</h3>'),e.AppendLine('    <p class="ion-padding-start ion-padding-end">'),e.AppendLine("        RecipeMaker App { store your recipe and ingredients  }  !"),e.AppendLine("    </p>"),e.AppendLine('    <p class="ion-padding-start ion-padding-end">'),e.AppendLine("      Deepak Sakleshpur ssdeepak@msn.com !"),e.AppendLine("    </p>"),e.AppendLine('    <p class="ion-padding-start ion-padding-end">'),e.AppendLine("      @cymoth2022 !"),e.AppendLine("    </p>"),e.AppendLine("  </div>"),e.AppendLine("</ion-content>"),e.AppendLine(" `;"),e.AppendLine("                }"),e.AppendLine("            }"),e.AppendLine("        );"),e.AppendLine("//#endregion LoginSupport")}}masterAndDetail(e,o,t,n){e.AppendLine("//#region MasterAndDetail");let r=n.pages,a=o.schema.find(c=>c.key===t.schemaKey);if(a){for(let c of r)if(!(c.pageType===U.UpdatePage||c.pageType===U.UpdateFkPage||c.pageType===U.CreatePage||c.pageType===U.CreateFkPage)){if(c.pageType===U.DetailPage||c.pageType===U.DetailFkPage||c.pageType===U.MasterDetailFkPage){let s=t.routes.find(k=>k.key===c.routeKey);if(!s){alert(`Route not found ${c.routeKey}`);return}let T=a.tables.find(k=>k.key===s.tableKey);if(!T)continue;let L=T.key.toLowerCase(),E=$.getTs(s.key);var p=new Z,d=new Z,v=new Z,y=s.requestKeys;let C=0;for(let k of y)if(k.length>0){var x=this.getTableColumn(k);let B=x.column;p.AppendLine(`,"${B.toLowerCase()}"`),d.AppendLine(` this.${B.toLowerCase()} = ${C} ;`),v.Append(`this.${B.toLowerCase()},`),C++}v.toString().length>2&&v.remove(1),e.AppendLine("       customElements.define("),e.AppendLine(`       "${c.key.toLowerCase()}-page",`),e.AppendLine("            class extends HTMLElement {"),e.AppendLine("                /* this is a list of the attributes that you want to monitor for changes */"),e.AppendLine("                static get observedAttributes() {"),e.AppendLine(`                    return ["data", "prevPath", "currentPath" ${p.toString()}];`),e.AppendLine("                }"),e.AppendLine("                attributeChangedCallback(property, oldValue, newValue) {"),e.AppendLine("                    if (oldValue === newValue) return;"),e.AppendLine("                    this[property] = newValue;"),e.AppendLine("                }"),e.AppendLine("                constructor() {"),e.AppendLine("                    super();"),e.AppendLine("                    this.refresh();"),e.AppendLine("                }"),e.AppendLine("                refresh() {"),e.AppendLine("                    this.goBackEvent = this.goBackEvent.bind(this);"),e.AppendLine("                    this.data = [];"),e.AppendLine("                    const url = new URL(window.location.href);"),e.AppendLine('                    var hash = url.hash.split("#/").pop();'),e.AppendLine('                    var split = hash.split("/");'),e.AppendLine("                    var ids = [];"),e.AppendLine("                    this.prevPath = '';"),e.AppendLine("                    this.currentPath = '';"),e.AppendLine("                    // Define the numeric pattern"),e.AppendLine("                    var numericPattern = /^d+$/;"),e.AppendLine("                    var guidPattern = /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/;"),e.AppendLine("                    for (let i = 0; i < split.length; i++) {"),e.AppendLine("                        const val = split[i];"),e.AppendLine("                        if (val && numericPattern.test(val)) {"),e.AppendLine("                            ids.push(val);"),e.AppendLine("                        } else if (val && guidPattern.test(val)) {"),e.AppendLine("                            ids.push(val);"),e.AppendLine("                        }"),e.AppendLine("                        // Update paths"),e.AppendLine("                        if (i > 0) {"),e.AppendLine("                            this.prevPath += '/' + split[i - 1];"),e.AppendLine("                        }"),e.AppendLine("                        this.currentPath = val;"),e.AppendLine("                    }"),e.AppendLine("                    // Add the current path to prevPath to make it complete"),e.AppendLine("                    this.prevPath += '/' + this.currentPath;"),e.AppendLine("                    if (ids.length > 0) {"),e.AppendLine(`                       ${d.toString()}`),e.AppendLine("                    }"),e.AppendLine(`                    this.data = ${E}(${v.toString()});`),e.AppendLine("                }"),e.AppendLine("                goBackEvent() {"),e.AppendLine("                    window.location.hash = this.prevPath;"),e.AppendLine("                }"),e.AppendLine("                /* this is called when our component is added to the DOM */"),e.AppendLine("                connectedCallback() {"),e.AppendLine("                    const url = new URL(window.location.href);"),e.AppendLine("                    this.updateContent();"),e.AppendLine("                }"),e.AppendLine("                updateContent() {"),e.AppendLine("                    this.refresh();"),e.AppendLine("                    var item = this.data;");for(let k of y)if(k.length>0){var x=this.getTableColumn(k);let W=x.column;e.AppendLine(`                   var ${W.toLowerCase()} = this.${W.toLowerCase()};`)}e.AppendLine("                    this.prevPath = `/recipes`;"),e.AppendLine("                    this.innerHTML = `"),e.AppendLine('                  <div class="ion-page" id="main-content">'),e.AppendLine("                  <ion-header>"),e.AppendLine("                  <ion-toolbar>"),e.AppendLine('                    <ion-buttons slot="start">'),e.AppendLine("                      <ion-menu-button ></ion-menu-button>"),e.AppendLine('                      <ion-icon name="arrow-back"></ion-icon>'),e.AppendLine("                    </ion-buttons>"),e.AppendLine(`                   <ion-title>${L}</ion-title>`),e.AppendLine("                  </ion-toolbar>"),e.AppendLine("                  </ion-header>"),e.AppendLine('                  <ion-content class="ion-padding">'),e.AppendLine("                    <ion-list>"),this.getCard(e,s,a,n,t,c),e.AppendLine("                   </ion-list>"),e.AppendLine('             <ion-fab slot="fixed" vertical="bottom" horizontal="end" #fab>'),e.AppendLine("               <ion-fab-button>"),e.AppendLine('                 <ion-icon name="add-circle"></ion-icon>'),e.AppendLine("               </ion-fab-button>"),e.AppendLine('                <ion-fab-list side="top">'),e.AppendLine("                  </ion-fab-list>"),e.AppendLine("                   </ion-fab>"),e.AppendLine("                  </ion-content>"),e.AppendLine("                </div>"),e.AppendLine("                `;"),e.AppendLine('                    this.getElementsByTagName("ion-icon")[0]?.addEventListener('),e.AppendLine('                        "click",'),e.AppendLine("                        this.goBackEvent"),e.AppendLine("                    );"),e.AppendLine("                }"),e.AppendLine("            }"),e.AppendLine("        );")}else if(c.pageType===U.MasterDetailPage){let s=t.routes.find(L=>L.key===c.routeKey);if(!s){alert(`Route not found ${c.routeKey}`);return}e.AppendLine("customElements.define("),e.AppendLine(` "${c.key.toLowerCase()}-page",`),e.AppendLine("    class extends HTMLElement {"),e.AppendLine("        static get observedAttributes() {");var f=new Z;for(let L of s.providerRoutes)f.Append(`,'${L.toLocaleLowerCase()}'`);if(e.AppendLine(`            return ['items', 'filtered',   'segment', 'search'  ${f.toString()} ];`),e.AppendLine("        }"),e.AppendLine("        attributeChangedCallback(property, oldValue, newValue) {"),e.AppendLine("            if (oldValue === newValue) return;"),e.AppendLine("            this[property] = newValue;"),e.AppendLine("        }"),e.AppendLine("        constructor() {"),e.AppendLine("            super();"),s.providerRoutes.length>0)for(let L of s.providerRoutes){e.AppendLine(`            this.segment = '${L}';`);break}e.AppendLine("            this.filtered = [];"),e.AppendLine("            this.items = [];"),e.AppendLine("            this.search = '';");for(let L of s.providerRoutes)L.length&&e.AppendLine(`            this.${L.toLowerCase()} = [];`);e.AppendLine("                    this.filterItems = this.filterItems.bind(this);"),e.AppendLine("                    this.handleInput = this.handleInput.bind(this);"),e.AppendLine("                    this.addEventListeners = this.addEventListeners.bind(this);"),e.AppendLine("           // this.refresh();"),e.AppendLine("        }"),e.AppendLine("        async refresh() {"),e.AppendLine(`          this.items = ${$.getTs(s.key)}();`);for(let L of s.providerRoutes)L.length&&e.AppendLine(`            this.${L.toLowerCase()} = ${$.getTs(L)}();`);e.AppendLine("            this.filterItems(); // Call updateUI to refresh the component with new items"),e.AppendLine("           }"),e.AppendLine("         filterItems() {"),e.AppendLine("          this.filtered = this.items ;");let T="if";if(s.providerRoutes.length>0)for(let L of s.providerRoutes){if(!L.length)continue;let E=L,C=t.routes.find(J=>J.key===L);if(!C)continue;let k=C.responseKeys[0],B=this.getTableColumn(k),W=$.getTs(B.column);e.AppendLine(`          ${T}( current${C.key} ) {`),e.AppendLine(`            this.filtered = this.items.filter((item) => item.${W} === current${C.key}.${W} );`),e.AppendLine("          }")}s.searchRoute.length>0&&(e.AppendLine("          if (this.search.length > 0) {"),e.AppendLine("            this.filtered = this.filtered.filter((item) => {"),e.AppendLine("              return Object.keys(item).some((key) => {"),e.AppendLine("                return String(item[key]).toLowerCase().includes(this.search);"),e.AppendLine("              });"),e.AppendLine("            });"),e.AppendLine("          }")),e.AppendLine("               this.updateUI(); // Call updateUI to refresh the component with new items"),e.AppendLine("             }"),e.AppendLine("            updateUI() {"),e.AppendLine("                  let cards =  '';"),e.AppendLine("                    this.filtered.forEach((item, index) => {"),e.AppendLine("                   cards +=  `"),this.getCard(e,s,a,n,t,c),e.AppendLine("                ` "),e.AppendLine("                 });");for(let L of s.providerRoutes){var g=t.routes.find(W=>W.key===L);if(!g)continue;let E=g.responseKeys[0],k=this.getTableColumn(E).column,B=$.getTs(k);e.AppendLine(`                    var ${L.toLowerCase()}Cards = '';`),e.AppendLine(`                    this.${L.toLowerCase()}.forEach((key,index) => {`),e.AppendLine(`                       var group = this.filtered.filter((item) => item.${B} === key.${B} );`),e.AppendLine("                       if (group.length > 0) {"),e.AppendLine(`                        ${L.toLowerCase()}Cards += \`<ion-item-group>`),e.AppendLine("                         <ion-item-divider>"),e.AppendLine(`                        <ion-label>GroupedBy (${B}:\${key.${B}}) #\${group.length} <ion-label>`),e.AppendLine("                        </ion-item-divider>"),e.AppendLine("                          <ion-grid> "),e.AppendLine("                         ${group.map(item => {"),e.AppendLine("                          return `"),e.AppendLine("                           <ion-row>"),e.AppendLine("                            <ion-col>"),this.getCard(e,s,a,n,t,c),e.AppendLine("                             </ion-col>"),e.AppendLine("                            </ion-row>"),e.AppendLine("                           ` "),e.AppendLine("                            })} "),e.AppendLine("                        </<ion-grid> "),e.AppendLine("                       </ion-item-group>`;"),e.AppendLine("                        }"),e.AppendLine("                    });")}if(e.AppendLine("                this.innerHTML = `"),e.AppendLine("                <ion-header>"),e.AppendLine("                    <ion-toolbar>"),e.AppendLine(`                      <ion-title>${c.key}</ion-title>`),s.providerRoutes.length>0){e.AppendLine('                      <ion-segment id="segment">');for(let L of s.providerRoutes)e.AppendLine(`                       <ion-segment-button value="${L}">`),e.AppendLine(`                        <ion-label>${L}</ion-label>`),e.AppendLine("                        </ion-segment-button>");e.AppendLine("                      </ion-segment>")}e.AppendLine("                    </ion-toolbar>"),e.AppendLine("                <ion-toolbar>"),e.AppendLine('                  <ion-buttons slot="start">'),e.AppendLine("                  <ion-menu-button></ion-menu-button>"),e.AppendLine('                   <ion-icon name="arrow-back"></ion-icon>'),e.AppendLine("                  </ion-buttons>"),s.searchRoute.length>0&&(e.AppendLine('                <ion-searchbar  debounce="500"'),e.AppendLine('                  show-cancel-button="always"'),e.AppendLine(`                  placeholder="search ${s.tableKey}"`),e.AppendLine(">                </ion-searchbar>")),e.AppendLine('                  <ion-buttons slot="end">'),e.AppendLine("                  </ion-button>");for(let L of s.providerRoutes)L.length&&(e.AppendLine(`                      <ion-button onclick="open${L}SheetModal()">`),e.AppendLine('                        <ion-icon slot="icon-only" name="options"></ion-icon>'),e.AppendLine("                      </ion-button>"));e.AppendLine("                    </ion-buttons>"),e.AppendLine("                  </ion-toolbar>"),e.AppendLine("                </ion-header>"),e.AppendLine('                  <ion-content class="ion-padding">'),e.AppendLine('                    <ion-list lines="full">');let M=!1;if(s.providerRoutes.length>0)for(let L of s.providerRoutes)L.length&&(e.AppendLine(`                \${this.segment === '${L}' ? ${L.toLowerCase()}Cards : ''}`),M=!0);M||e.AppendLine("                <div>${cards}</div>"),e.AppendLine("                 </ion-list>"),e.AppendLine("                </ion-content>"),e.AppendLine('                  <ion-fab slot="fixed" vertical="bottom" horizontal="end" #fab>'),e.AppendLine("                  <ion-fab-button>"),e.AppendLine('                   <ion-icon name="add-circle"></ion-icon>'),e.AppendLine("                  </ion-fab-button>"),e.AppendLine('                   <ion-fab-list side="top">');for(let L of c.navPages){let E=n.pages.find(k=>k.key===L);if(!E)continue;let C=t.routes.find(k=>k.key===E.routeKey);C&&(C.verb===h.Create||C.verb===h.CreateByFk)&&(e.AppendLine(`                  <ion-fab-button id="${L.toLowerCase()}-modal">`),e.AppendLine('                   <ion-icon name="add"></ion-icon>'),e.AppendLine("                 </ion-fab-button>"))}e.AppendLine("                </ion-fab-list>"),e.AppendLine("              </ion-fab>"),e.AppendLine("            `;"),e.AppendLine("             document.getElementById('segment').addEventListener('ionChange', (event) => this.handleSegmentChange(event));"),e.AppendLine("             document.querySelector('ion-searchbar').addEventListener('ionInput', (event) => this.handleInput(event));");for(let L of c.navPages){let E=n.pages.find(k=>k.key===L),C=t.routes.find(k=>k.key===E.routeKey);C&&(C.verb===h.Create||C.verb===h.CreateByFk?(e.AppendLine(`                this.querySelectorAll('.${L}').forEach(item => {`),e.AppendLine("                item.addEventListener('click', (event) => {"),e.AppendLine("                    const index = event.currentTarget.getAttribute('data-index');"),e.AppendLine("                    let itemSelected = this.filtered[index];"),e.AppendLine(`                    setState('current${s.tableKey}', itemSelected);`),e.AppendLine("                }); "),e.AppendLine("              }); ")):(C.verb===h.UpdateByFk||C.verb===h.UpdateByFk)&&e.AppendLine(`                 this.querySelector('.${L}')?.addEventListener('click', () => this.${L}(item));`))}e.AppendLine("        }"),e.AppendLine("     handleSegmentChange(event) {"),e.AppendLine("       const selectedValue = event.detail.value;"),e.AppendLine("       this.segment = selectedValue;"),e.AppendLine("       this.updateUI();"),e.AppendLine("      }"),e.AppendLine("       handleInput(event) {"),e.AppendLine("          const query = event.target.value.toLowerCase();"),e.AppendLine("          this.search = query ;"),e.AppendLine("          this.filterItems( );"),e.AppendLine("        }"),e.AppendLine("     disconnectedCallback() {"),e.AppendLine("        // Clean up event listener"),e.AppendLine("        document.removeEventListener('stateChange', this.handleStateChange.bind(this));"),e.AppendLine("     }"),e.AppendLine("       connectedCallback() {"),e.AppendLine("        document.addEventListener('stateChange', this.handleStateChange.bind(this));"),e.AppendLine("            if (!this.items.length) {"),e.AppendLine("                this.refresh(); // Ensure items are fetched if not already done"),e.AppendLine("            } else {"),e.AppendLine("                this.updateUI(); // If items are already fetched, just update the UI"),e.AppendLine("            }"),e.AppendLine("        }");for(let L of c.navPages){let E=n.pages.find(k=>k.key===L),C=t.routes.find(k=>k.key===E.routeKey);C&&(C.verb===h.Create||C.verb===h.CreateByFk?(e.AppendLine(`         ${L}( ) {`),e.AppendLine("            alert('Create  :' );"),e.AppendLine("        }")):(C.verb===h.UpdateByFk||C.verb===h.UpdateByFk)&&(e.AppendLine(`         ${L}(item) {`),e.AppendLine("            alert('Editing  :' + item);"),e.AppendLine("        }")))}e.AppendLine("     handleStateChange(event) { //debug11"),e.AppendLine("        const { key, value } = event.detail;");for(let L of s.providerRoutes){let E=L,C=t.routes.find(J=>J.key===L);if(!C)continue;let k=C.responseKeys[0],B=this.getTableColumn(k),W=$.getTs(B.column);e.AppendLine(`          if (key === 'current${E}') {`),e.AppendLine(`           current${E} = value;`),e.AppendLine("          this.filterItems( );"),e.AppendLine("        }")}e.AppendLine("    }"),e.AppendLine("        addEventListeners() {  ");for(let L of s.providerRoutes){let E=L,C=t.routes.find(J=>J.key===L);if(!C)continue;let k=C.responseKeys[0],B=this.getTableColumn(k),W=$.getTs(B.column);e.AppendLine(`            this.querySelector('#${E.toLowerCase()}-filter').addEventListener('ionChange', (event) => {`),e.AppendLine(`                this.current${L} = event.detail.value;`),e.AppendLine("                this.filterItems();"),e.AppendLine("            });")}e.AppendLine("     }"),e.AppendLine("    }"),e.AppendLine(");")}}e.AppendLine("//#endregion MasterAndDetail")}}makeKeyProviders(e,o,t,n){e.AppendLine("        //#region KeyProviders");let r=t.routes;for(let a of r)if(a.verb===h.KeysProvider){let p=a.key,d=$.getTs(a.key),v=a.responseKeys[0],y=this.getTableColumn(v),x=$.getTs(y.column);e.AppendLine("        customElements.define("),e.AppendLine(`            "${p.toLowerCase()}-filter",`),e.AppendLine(`            class ${p}Filter extends HTMLElement {`),e.AppendLine("                static get observedAttributes() {"),e.AppendLine('                    return ["filter", "items"];'),e.AppendLine("                }"),e.AppendLine("                attributeChangedCallback(property, oldValue, newValue) {"),e.AppendLine("                    if (oldValue === newValue) return;"),e.AppendLine("                    this[property] = newValue;"),e.AppendLine("                    console.log("),e.AppendLine('                        " attributeChangedCallback " + property,'),e.AppendLine("                        oldValue,"),e.AppendLine("                        newValue"),e.AppendLine("                    );"),e.AppendLine("                }"),e.AppendLine("                constructor() {"),e.AppendLine("                    super();"),e.AppendLine("                    this.items = [];"),e.AppendLine(`                    this.items =  ${d}();`),e.AppendLine("                }"),e.AppendLine("                connectedCallback() {"),e.AppendLine("                    this.updateContent();"),e.AppendLine("                }"),e.AppendLine("                updateContent() {"),e.AppendLine("                    let keys = [] ;"),e.AppendLine("                    this.items.forEach((item,index) => {"),e.AppendLine("                     keys.push(`"),e.AppendLine('                     <ion-item data-index="${index}">'),e.AppendLine(`                     <ion-label> ${x} : \${item.${x}}</ion-label>`),e.AppendLine("                    </ion-item>"),e.AppendLine("                    `);"),e.AppendLine("                    });"),e.AppendLine(`                    this.innerHTML = \`<ion-header translucent id="${p.toLowerCase()}-filter">`),e.AppendLine("              <ion-toolbar>"),e.AppendLine(`              <ion-title>Select one ${x}</ion-title>`),e.AppendLine('              <ion-buttons slot="end">'),e.AppendLine(`                <ion-button onclick="dismiss${p}Modal()">Close</ion-button>`),e.AppendLine("              </ion-buttons>"),e.AppendLine("            </ion-toolbar>"),e.AppendLine("          </ion-header>"),e.AppendLine("          <ion-content fullscreen>"),e.AppendLine("            <ion-list>"),e.AppendLine("            ${keys.join('\\n')}"),e.AppendLine("            </ion-list>"),e.AppendLine("          </ion-content>"),e.AppendLine("          `;"),e.AppendLine("                this.querySelectorAll('ion-item').forEach(item => {"),e.AppendLine("                item.addEventListener('click', (event) => {"),e.AppendLine("                    const index = event.currentTarget.getAttribute('data-index');"),e.AppendLine("                   let itemSelected = this.items[index];"),e.AppendLine(`                  //  this.dispatchEvent(new CustomEvent('itemSelected', { detail: current${p} })); //debug2`),e.AppendLine(`                    setState('current${p}', itemSelected);`),e.AppendLine(`                    dismiss${p}Modal();`),e.AppendLine("                });"),e.AppendLine("            });"),e.AppendLine("                }"),e.AppendLine("            }"),e.AppendLine("        );"),e.AppendLine(`        let current${p} = null;`),e.AppendLine(`        async function open${p}Modal(opts = {}) {`),e.AppendLine("            const modal = await modalController.create({"),e.AppendLine(`                component: "${p.toLowerCase()}-filter",`),e.AppendLine("                ...opts,"),e.AppendLine("            });"),e.AppendLine("            modal.present();"),e.AppendLine(`            current${p} = modal;`),e.AppendLine("        }"),e.AppendLine(`        function open${p}SheetModal() {`),e.AppendLine(`            open${p}Modal({`),e.AppendLine("                breakpoints: [0, 0.2, 0.5, 1],"),e.AppendLine("                initialBreakpoint: 0.2,"),e.AppendLine("            });"),e.AppendLine("        }"),e.AppendLine(`        async function dismiss${p}Modal() {`),e.AppendLine("            await modalController.dismiss();"),e.AppendLine("        }")}e.AppendLine("        //#endregion KeyProviders")}makeModalForms(e,o,t,n){e.AppendLine("        //#region ModalsForms");let r=t.routes,a=n.pages,p=o.schema.find(g=>g.key===t.schemaKey);for(let g of a){let c=r.find(s=>s.key===g.routeKey);if(c&&(c.verb===h.Create||c.verb===h.CreateByFk||c.verb===h.Update||c.verb===h.UpdateByFk)){let s=t.routes.find(k=>k.key===g.routeKey);if(!s){alert(`Route not found ${g.routeKey}`);return}let T=p.tables.find(k=>k.key===s.tableKey);if(!T)continue;let L=T.key.toLowerCase(),E=$.getTs(s.key);var d=new Z,v=new Z,y=new Z,x=s.requestKeys;let C=0;for(let k of x)if(k.length>0){var f=this.getTableColumn(k);let B=f.column;d.AppendLine(`,"${B.toLowerCase()}"`),v.AppendLine(` this.${B.toLowerCase()} = ${C} ;`),y.Append(`this.${B.toLowerCase()},`),C++}y.toString().length>2&&y.remove(1),e.AppendLine("       customElements.define("),e.AppendLine(`       "${g.key.toLowerCase()}-page",`),e.AppendLine("            class extends HTMLElement {"),e.AppendLine("                /* this is a list of the attributes that you want to monitor for changes */"),e.AppendLine("                static get observedAttributes() {"),e.AppendLine(`                    return ["data", "prevPath", "currentPath" ${d.toString()}];`),e.AppendLine("                }"),e.AppendLine("                attributeChangedCallback(property, oldValue, newValue) {"),e.AppendLine("                    if (oldValue === newValue) return;"),e.AppendLine("                    this[property] = newValue;"),e.AppendLine("                }"),e.AppendLine("                constructor() {"),e.AppendLine("                    super();"),e.AppendLine("                    this.refresh();"),e.AppendLine("                }"),e.AppendLine("                refresh() {"),e.AppendLine("                    this.goBackEvent = this.goBackEvent.bind(this);"),e.AppendLine("                    this.data = [];"),e.AppendLine("                    const url = new URL(window.location.href);"),e.AppendLine('                    var hash = url.hash.split("#/").pop();'),e.AppendLine('                    var split = hash.split("/");'),e.AppendLine("                    var ids = [];"),e.AppendLine("                    this.prevPath = '';"),e.AppendLine("                    this.currentPath = '';"),e.AppendLine("                    // Define the numeric pattern"),e.AppendLine("                    var numericPattern = /^d+$/;"),e.AppendLine("                    var guidPattern = /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/;"),e.AppendLine("                    for (let i = 0; i < split.length; i++) {"),e.AppendLine("                        const val = split[i];"),e.AppendLine("                        if (val && numericPattern.test(val)) {"),e.AppendLine("                            ids.push(val);"),e.AppendLine("                        } else if (val && guidPattern.test(val)) {"),e.AppendLine("                            ids.push(val);"),e.AppendLine("                        }"),e.AppendLine("                        // Update paths"),e.AppendLine("                        if (i > 0) {"),e.AppendLine("                            this.prevPath += '/' + split[i - 1];"),e.AppendLine("                        }"),e.AppendLine("                        this.currentPath = val;"),e.AppendLine("                    }"),e.AppendLine("                    // Add the current path to prevPath to make it complete"),e.AppendLine("                    this.prevPath += '/' + this.currentPath;"),e.AppendLine("                    if (ids.length > 0) {"),e.AppendLine(`                       ${v.toString()}`),e.AppendLine("                    }"),e.AppendLine(`                    this.data = ${E}(${y.toString()});`),e.AppendLine("                }"),e.AppendLine("                goBackEvent() {"),e.AppendLine("                    window.location.hash = this.prevPath;"),e.AppendLine("                }"),e.AppendLine("                /* this is called when our component is added to the DOM */"),e.AppendLine("                connectedCallback() {"),e.AppendLine("                    const url = new URL(window.location.href);"),e.AppendLine("                    this.updateContent();"),e.AppendLine("                }"),e.AppendLine("                updateContent() {"),e.AppendLine("                    this.refresh();"),e.AppendLine("                    var item = this.data;");for(let k of x)if(k.length>0){var f=this.getTableColumn(k);let W=f.column;e.AppendLine(`                   var ${W.toLowerCase()} = this.${W.toLowerCase()};`)}e.AppendLine("                    this.prevPath = `/recipes`;"),e.AppendLine("                    this.innerHTML = `"),e.AppendLine('                  <div class="ion-page" id="main-content">'),e.AppendLine("                  <ion-header>"),e.AppendLine("                  <ion-toolbar>"),e.AppendLine('                    <ion-buttons slot="start">'),e.AppendLine("                      <ion-menu-button ></ion-menu-button>"),e.AppendLine('                      <ion-icon name="arrow-back"></ion-icon>'),e.AppendLine("                    </ion-buttons>"),e.AppendLine(`                   <ion-title>${L}</ion-title>`),e.AppendLine("                  </ion-toolbar>"),e.AppendLine("                  </ion-header>"),e.AppendLine('                  <ion-content class="ion-padding">'),e.AppendLine("                    <ion-list>"),e.AppendLine("          <ion-item>"),e.AppendLine("            <ion-label>Title</ion-label>"),e.AppendLine('            <ion-input placeholder="Title"></ion-input>'),e.AppendLine("          </ion-item>"),e.AppendLine("          <ion-item>"),e.AppendLine("            <ion-label>Servings</ion-label>"),e.AppendLine('            <ion-checkbox slot="end" value="Servings" checked></ion-checkbox>'),e.AppendLine("          </ion-item>"),e.AppendLine("          <ion-item>"),e.AppendLine("            <ion-label>CookTime</ion-label>"),e.AppendLine('            <ion-input placeholder="CookTime"></ion-input>'),e.AppendLine("          </ion-item>"),e.AppendLine("          <ion-item>"),e.AppendLine("            <ion-label>Image</ion-label>"),e.AppendLine('            <ion-input placeholder="Image"></ion-input>'),e.AppendLine('            <ion-button expand="block" onclick="openImage()">Pick Image</ion-button>'),e.AppendLine("          </ion-item>"),e.AppendLine("          <ion-item>"),e.AppendLine("            <ion-label>RecipeType</ion-label>"),e.AppendLine('            <ion-button expand="block" onclick="openRecipeType()">Pick RecipeType</ion-button>'),e.AppendLine("          </ion-item>"),e.AppendLine("          <ion-item>"),e.AppendLine("            <ion-label>Favorite</ion-label>"),e.AppendLine('            <ion-button expand="block" onclick="opengetFavorites()">Pick Favorite</ion-button>'),e.AppendLine("            </ion-item>"),e.AppendLine("      </ion-list>"),e.AppendLine("      </ion-content>"),e.AppendLine("                `;"),e.AppendLine('                    this.getElementsByTagName("ion-icon")[0]?.addEventListener('),e.AppendLine('                        "click",'),e.AppendLine("                        this.goBackEvent"),e.AppendLine("                    );"),e.AppendLine("                }"),e.AppendLine("            }"),e.AppendLine("        );"),e.AppendLine(`        async function open${g.key}Modal(opts = {}) {`),e.AppendLine("            const modal = await modalController.create({"),e.AppendLine(`                component: "${g.key.toLowerCase()}-page",`),e.AppendLine("                ...opts,"),e.AppendLine("            });"),e.AppendLine("            modal.present();"),e.AppendLine("        }"),e.AppendLine(`        function open${g.key}SheetModal() {`),e.AppendLine(`            open${g.key}Modal({`),e.AppendLine("                breakpoints: [0, 0.2, 0.5, 1],"),e.AppendLine("                initialBreakpoint: 0.2,"),e.AppendLine("            });"),e.AppendLine("        }"),e.AppendLine(`        async function dismiss${g.key}Modal() {`),e.AppendLine("            await modalController.dismiss();"),e.AppendLine("        }")}}e.AppendLine("        //#endregion ModalsForms")}makeImagePicker(e,o,t,n){e.AppendLine("//#region ImagePicker");let r=o.schema.find(a=>a.key===t.schemaKey);if(r){for(let a of r.tables)for(let p of a.columns)if(p.type===R.IMAGE){let d=$.getTs(a.key+p.key);e.AppendLine(`        const ${d}Options = [`),e.AppendLine('            ["imageOne", "imageTwo", "imageThree", "imageFour", "imageFive"],'),e.AppendLine("        ];"),e.AppendLine(`        function get${d}Image(numColumns, numOptions, columnOptions) {`),e.AppendLine("            let columns = [];"),e.AppendLine("            for (let i = 0; i < numColumns; i++) {"),e.AppendLine("                columns.push({"),e.AppendLine("                    name: `col-${i}`,"),e.AppendLine(`                    options: this.get${d}Options(i, numOptions, columnOptions),`),e.AppendLine("                });"),e.AppendLine("            }"),e.AppendLine("            return columns;"),e.AppendLine("        }"),e.AppendLine(`        function get${d}Options(columnIndex, numOptions, columnOptions) {`),e.AppendLine("            let options = [];"),e.AppendLine("            for (let i = 0; i < numOptions; i++) {"),e.AppendLine("                options.push({"),e.AppendLine("                    text: i,"),e.AppendLine("                    value: i,"),e.AppendLine("                });"),e.AppendLine("            }"),e.AppendLine("            return options;"),e.AppendLine("        }"),e.AppendLine(`        async function open${p.key}(`),e.AppendLine("            numColumns = 1,"),e.AppendLine("            numOptions = 5,"),e.AppendLine(`            columnOptions = ${d}Options`),e.AppendLine("           ) {"),e.AppendLine("            const picker = await pickerController.create({"),e.AppendLine(`                columns: this.get${d}Image(numColumns, numOptions, columnOptions),`),e.AppendLine("                buttons: ["),e.AppendLine("                    {"),e.AppendLine('                        text: "Cancel",'),e.AppendLine('                        role: "cancel",'),e.AppendLine("                    },"),e.AppendLine("                    {"),e.AppendLine('                        text: "Confirm",'),e.AppendLine("                        handler: (value) => { },"),e.AppendLine("                    },"),e.AppendLine("                ],"),e.AppendLine("            });"),e.AppendLine("            await picker.present();"),e.AppendLine("        }")}e.AppendLine("//#endregion ImagePicker")}}getCard(e,o,t,n,r,a){let p="",d="";for(let f of a.navPages){if(f.length===0)continue;let g=n.pages.find(s=>s.key===f);if(!g)continue;let c=r.routes.find(s=>s.key===g.routeKey);if(!c){alert(`Route not found ${g.routeKey}`);return}if(c!==o&&c.requestKeys.length!==0&&(c.verb===h.FetchOne||c.verb===h.FetchOneFk||c.verb===h.FetchMany||c.verb===h.FetchManyByFk)){d=c.path;let T=c.path.split("/"),M=new Z;for(let L of T)if(L.length>0){let E=L.startsWith("#")&&L.endsWith("#"),C=L.replaceAll("#","");if(!E){M.Append(C.toLowerCase()+"/");continue}let B=this.getTableColumn(C).column;M.Append(`\${item.${$.getTs(B)}}/`)}if(M.toString().length>2&&M.remove(1),p=M.toString(),p.length===0)continue}}if(o.responseKeys.length===0||!t.tables.find(f=>f.key===o.tableKey)||p.length===0)return;let x="sliding";if(x==="sliding"){if(e.AppendLine("                <ion-item-sliding>"),e.AppendLine(`                    <ion-item href="${p}" button detail="true" detail-icon="caret-forward-outline"> <!-- href="${d}" -->`),a.imageKeys.length>0)for(let g of a.imageKeys){if(!g.length)continue;let c=this.getTableColumn(g),s=$.getTs(c.column);e.AppendLine('                        <ion-thumbnail slot="start">'),e.AppendLine(`                            <img alt="https://picsum.photos/100" src="\${item.${s} ? item.${s} : 'https://picsum.photos/200'}" />`),e.AppendLine("                        </ion-thumbnail>")}e.AppendLine("                        <ion-label>");let f=0;for(let g of a.headerKeys){if(!g.length)continue;let c=this.getTableColumn(g),s=$.getTs(c.column);f===0?(e.AppendLine(`                            <h2>${s}: \${item.${s}}</h2>`),f++):f===1&&(e.AppendLine(`                            <p>${s}: \${item.${s}}</p>`),f++)}for(let g of a.contentKeys){if(!g.length)continue;let c=this.getTableColumn(g),s=$.getTs(c.column);e.AppendLine(`                            <ion-note class="ion-text-wrap">${s}: \${item.${s}}</ion-note>`)}e.AppendLine("                        </ion-label>"),e.AppendLine("                    </ion-item>"),e.AppendLine("                 <ion-item>"),e.AppendLine("                    <ion-chip>"),e.AppendLine("                      <ion-avatar>"),e.AppendLine(`                        <img alt="Silhouette of a person's head" src="https://ionicframework.com/docs/img/demos/avatar.svg" />`),e.AppendLine("                      </ion-avatar>"),e.AppendLine("                      <ion-label>Avatar Chip</ion-label>"),e.AppendLine('                      <ion-icon name="close-circle"></ion-icon>'),e.AppendLine("                    </ion-chip>"),e.AppendLine("                    <ion-chip>"),e.AppendLine('                      <ion-icon name="pin" color="primary"></ion-icon>'),e.AppendLine("                      <ion-label>Icon Chip</ion-label>"),e.AppendLine('                      <ion-icon name="close"></ion-icon>'),e.AppendLine("                    </ion-chip>"),e.AppendLine("                </ion-item>"),e.AppendLine('                    <ion-item-options side="end">');for(let g of a.navPages){let c=n.pages.find(T=>T.key===g),s=r.routes.find(T=>T.key===c.routeKey);s&&(s.verb===h.Create||s.verb===h.CreateByFk?(e.AppendLine(`                  <ion-item-option class="${g}" data-index="\${index}"> `),e.AppendLine(`                    <ion-item-option>${s.verb}</ion-item-option>`),e.AppendLine('                    <ion-icon name="add-circle"></ion-icon>'),e.AppendLine("                  </ion-item-option>")):(s.verb===h.UpdateByFk||s.verb===h.UpdateByFk)&&(e.AppendLine(`                  <ion-item-option class="${g}">`),e.AppendLine('                    <ion-icon name="edit"></ion-icon>'),e.AppendLine("                  </ion-item-option>")))}e.AppendLine("                    </ion-item-options>"),e.AppendLine("                </ion-item-sliding>")}else if(x==="list"){if(e.AppendLine(`                <ion-item href="${p}" button detail="true" detail-icon="caret-forward-outline"> <!-- href="${d}" -->`),a.imageKeys.length>0)for(let g of a.imageKeys){if(!g.length)continue;let c=this.getTableColumn(g),s=$.getTs(c.column);e.AppendLine('                    <ion-thumbnail slot="start">'),e.AppendLine(`                        <img alt="https://picsum.photos/100" src="\${item.${s} ? item.${s} : 'https://picsum.photos/200'}" />`),e.AppendLine("                    </ion-thumbnail>")}e.AppendLine("                    <ion-label>");let f=0;for(let g of a.headerKeys){if(!g.length)continue;let c=this.getTableColumn(g),s=$.getTs(c.column);f===0?(e.AppendLine(`                        <h2>${s}: \${item.${s}}</h2>`),f++):f===1&&(e.AppendLine(`                        <p>${s}: \${item.${s}}</p>`),f++)}for(let g of a.contentKeys){if(!g.length)continue;let c=this.getTableColumn(g),s=$.getTs(c.column);e.AppendLine(`                     <ion-note class="ion-text-wrap">${s}: \${item.${s}}</ion-note>`)}e.AppendLine("                    </ion-label>"),e.AppendLine("                </ion-item>")}else if(x==="card"){if(e.AppendLine(`                <ion-card href="${p}"> <!-- href="${d}" -->`),a.imageKeys.length>0)for(let g of a.imageKeys){if(!g.length)continue;let c=this.getTableColumn(g),s=$.getTs(c.column);e.AppendLine(`                    <img alt="https://picsum.photos/100" src="\${item.${s} ? item.${s} : 'https://picsum.photos/200'}" style="object-fit: cover; width: 100%; height: 100%;" />`)}e.AppendLine("                    <ion-card-header>");let f=0;for(let g of a.headerKeys){if(!g.length)continue;let c=this.getTableColumn(g),s=$.getTs(c.column);f===0?(e.AppendLine(`                        <ion-card-title>${s}: \${item.${s}}</ion-card-title>`),f++):f===1&&(e.AppendLine(`                        <ion-card-subtitle>${s}: \${item.${s}}</ion-card-subtitle>`),f++)}e.AppendLine("                    </ion-card-header>"),e.AppendLine('                    <ion-card-content class="ion-padding">'),e.AppendLine("                   <ion-list>");for(let g of a.contentKeys){if(!g.length)continue;let c=this.getTableColumn(g),s=$.getTs(c.column);e.AppendLine("                  <ion-item>"),e.AppendLine(`                     <ion-label>${s}: \${item.${s}}</ion-label>`),e.AppendLine("                  </ion-item>")}for(let g of a.pickerKeys){if(!g.length)continue;let c=this.getTableColumn(g),s=$.getTs(c.column),T=c.column;e.AppendLine(`                 <ion-item onclick="open${T}()" >`),e.AppendLine(`                  <ion-label>${s}: \${item.${s}}</ion-label>`),e.AppendLine('                  <ion-icon name="arrow-up-outline"></ion-icon>'),e.AppendLine("                 </ion-item>")}for(let g of a.imageKeys){if(!g.length)continue;let c=this.getTableColumn(g),s=$.getTs(c.column),T=c.column;e.AppendLine(`                 <ion-item onclick="open${T}()" >`),e.AppendLine(`                  <ion-label>${s}: \${item.${s}}</ion-label>`),e.AppendLine('                  <ion-icon name="add-circle"></ion-icon>'),e.AppendLine("                 </ion-item>")}e.AppendLine("                   </ion-list>"),e.AppendLine("                  </ion-card-content>"),e.AppendLine("                </ion-card> ")}}style(e,o){e.AppendLine("    <style>"),e.AppendLine("        :root {"),e.AppendLine("            --ion-background-color: #252525;"),e.AppendLine("            --ion-item-background:  #252525;"),e.AppendLine("            --ion-card-background:  #252525;"),e.AppendLine("            --ion-card-title: #b1d5ec;"),e.AppendLine("            --ion-item-background-activated: #313131;"),e.AppendLine("            --ion-background-color-rgb: 0, 0, 0;"),e.AppendLine("            --ion-text-color: #b1d5ec;"),e.AppendLine("            --ion-text-color-rgb: 255, 255, 255;"),e.AppendLine("            --ion-color-primary: #b1d5ec;"),e.AppendLine("            --ion-color-primary-rgb: 66, 140, 255;"),e.AppendLine("            --ion-color-primary-contrast: #ffffff;"),e.AppendLine("            --ion-color-primary-contrast-rgb: 255, 255, 255;"),e.AppendLine("            --ion-color-primary-shade: #3a7be0;"),e.AppendLine("            --ion-color-primary-tint: #5598ff;"),e.AppendLine("            --ion-color-secondary:  #252525;"),e.AppendLine("            --ion-color-secondary-rgb: 80, 200, 255;"),e.AppendLine("            --ion-color-secondary-contrast: #ffffff;"),e.AppendLine("            --ion-color-secondary-contrast-rgb: 255, 255, 255;"),e.AppendLine("            --ion-color-secondary-shade: #46b0e0;"),e.AppendLine("            --ion-color-secondary-tint: #62ceff;"),e.AppendLine("            --ion-color-tertiary: #b1d5ec;"),e.AppendLine("            --ion-color-tertiary-rgb: 106, 100, 255;"),e.AppendLine("            --ion-color-tertiary-contrast: #ffffff;"),e.AppendLine("            --ion-color-tertiary-contrast-rgb: 255, 255, 255;"),e.AppendLine("            --ion-color-tertiary-shade: #5d58e0;"),e.AppendLine("            --ion-color-tertiary-tint: #7974ff;"),e.AppendLine("            --ion-color-success: #2fdf75;"),e.AppendLine("            --ion-color-success-rgb: 47, 223, 117;"),e.AppendLine("            --ion-color-success-contrast: #000000;"),e.AppendLine("            --ion-color-success-contrast-rgb: 0, 0, 0;"),e.AppendLine("            --ion-color-success-shade: #29c467;"),e.AppendLine("            --ion-color-success-tint: #44e283;"),e.AppendLine("            --ion-color-warning: #ffd534;"),e.AppendLine("            --ion-color-warning-rgb: 255, 213, 52;"),e.AppendLine("            --ion-color-warning-contrast: #000000;"),e.AppendLine("            --ion-color-warning-contrast-rgb: 0, 0, 0;"),e.AppendLine("            --ion-color-warning-shade: #e0bb2e;"),e.AppendLine("            --ion-color-warning-tint: #ffd948;"),e.AppendLine("            --ion-color-danger: #ff4961;"),e.AppendLine("            --ion-color-danger-rgb: 255, 73, 97;"),e.AppendLine("            --ion-color-danger-contrast: #ffffff;"),e.AppendLine("            --ion-color-danger-contrast-rgb: 255, 255, 255;"),e.AppendLine("            --ion-color-danger-shade: #e04055;"),e.AppendLine("            --ion-color-danger-tint: #ff5b71;"),e.AppendLine("            --ion-color-dark: #f4f5f8;"),e.AppendLine("            --ion-color-dark-rgb: 244, 245, 248;"),e.AppendLine("            --ion-color-dark-contrast: #000000;"),e.AppendLine("            --ion-color-dark-contrast-rgb: 0, 0, 0;"),e.AppendLine("            --ion-color-dark-shade: #d7d8da;"),e.AppendLine("            --ion-color-dark-tint: #f5f6f9;"),e.AppendLine("            --ion-color-medium: #989aa2;"),e.AppendLine("            --ion-color-medium-rgb: 152, 154, 162;"),e.AppendLine("            --ion-color-medium-contrast: #000000;"),e.AppendLine("            --ion-color-medium-contrast-rgb: 0, 0, 0;"),e.AppendLine("            --ion-color-medium-shade: #86888f;"),e.AppendLine("            --ion-color-medium-tint: #a2a4ab;"),e.AppendLine("            --ion-color-light: #222428;"),e.AppendLine("            --ion-color-light-rgb: 34, 36, 40;"),e.AppendLine("            --ion-color-light-contrast: #ffffff;"),e.AppendLine("            --ion-color-light-contrast-rgb: 255, 255, 255;"),e.AppendLine("            --ion-color-light-shade: #1e2023;"),e.AppendLine("            --ion-color-light-tint: #383a3e;"),e.AppendLine("            --ion-color-step-50: #0d0d0d;"),e.AppendLine("            --ion-color-step-100: #1a1a1a;"),e.AppendLine("            --ion-color-step-150: #262626;"),e.AppendLine("            --ion-color-step-200: #333333;"),e.AppendLine("            --ion-color-step-250: #404040;"),e.AppendLine("            --ion-color-step-300: #4d4d4d;"),e.AppendLine("            --ion-color-step-350: #595959;"),e.AppendLine("            --ion-color-step-400: #666666;"),e.AppendLine("            --ion-color-step-450: #737373;"),e.AppendLine("            --ion-color-step-500: #808080;"),e.AppendLine("            --ion-color-step-550: #8c8c8c;"),e.AppendLine("            --ion-color-step-600: #b1d5ec;"),e.AppendLine("            --ion-color-step-650: #a6a6a6;"),e.AppendLine("            --ion-color-step-700: #b3b3b3;"),e.AppendLine("            --ion-color-step-750: #bfbfbf;"),e.AppendLine("            --ion-color-step-800: #cccccc;"),e.AppendLine("            --ion-color-step-850: #d9d9d9;"),e.AppendLine("            --ion-color-step-900: #e6e6e6;"),e.AppendLine("            --ion-color-step-950: #f2f2f2;"),e.AppendLine("        }"),e.AppendLine("        .full-width {"),e.AppendLine("            width: 100%;"),e.AppendLine("            height: 100%;"),e.AppendLine("        }"),e.AppendLine("        .img {"),e.AppendLine("            object-fit: fill;"),e.AppendLine("            width: 100%;"),e.AppendLine("            height: 200px;"),e.AppendLine("        }"),e.AppendLine("        ion-img::part(image) {"),e.AppendLine("            height: 200px;"),e.AppendLine("            object-fit: fill;"),e.AppendLine("        }"),e.AppendLine("    </style>")}scripts(e,o,t){let n="https://cdn.jsdelivr.net/npm/@ionic",r="D:/GitHub/FusionWeb/node_modules/@ionic",a="/assets/@ionic",p="http://172.20.32.1:8080/@ionic",d="";switch(t){case"cdn":d=n;break;case"localserver":d=p;break;case"assets":d=a;break}e.AppendLine(`    <script type="module" src="${d}/core/dist/ionic/ionic.esm.js"><\/script>`),e.AppendLine(`    <script nomodule src="${d}/core/dist/ionic/ionic.js"><\/script>`),e.AppendLine(`    <link rel="stylesheet" href="${d}/core/css/ionic.bundle.css" />`),e.AppendLine(`    <link rel="stylesheet" href="${d}/core/css/palettes/dark.always.css" />`),e.AppendLine('    <script type="module">'),e.AppendLine(`        import { modalController } from "${d}/core/dist/ionic/index.esm.js";`),e.AppendLine("        window.modalController = modalController;"),e.AppendLine(`        import { pickerController } from "${d}/core/dist/ionic/index.esm.js";`),e.AppendLine("        window.pickerController = pickerController;"),e.AppendLine("    <\/script>")}url(e){let o="",t=e.path.split("/");return t.length>0?(t.forEach(n=>{if(n.includes("#")){let r=n.replaceAll("#",""),a=this.getTableColumn(r);o+=`/:${a.column}/`}else o+=n}),o):e.path}getColumn(e){let o=e.split(".");if(o.length>1){let t=o[0];return o[1]}return e}getTableColumn(e){let o=e.split(".");if(o.length>1){let t=o[0],n=o[1];return{table:t,column:n}}return{table:"",column:e}}},rt=new Pe;var gt=["phoneelement"],at=(()=>{let e=class e{constructor(t,n){this.renderer=t,this.store=n,this.isOpen=P.required(),this.root=P.required(),this.frameHeight="100%",this.code=z(()=>{if(!this.isOpen())return"";let r=this.root();if(!r)return alert("Project is null"),"";if(r&&r.key&&r.design.length>0){for(let a of r.design)if(a&&a.key&&a.pages.length>0)return rt.makeIonicComponent(r,a)}return""}),Ue(()=>{this.code()&&this.updateIframeContent()})}ngAfterViewInit(){this.updateIframeContent()}updateIframeContent(){let t=this.renderer.createElement("iframe");if(this.renderer.setAttribute(t,"style",`width:100%;height:${this.frameHeight};border-width:0;border-radius:0px`),this.renderer.setAttribute(t,"sandbox","allow-scripts allow-same-origin"),this.renderer.setAttribute(t,"name","dumbiframe"),this.hostElem){let n=this.code();if(!n)return;this.renderer.appendChild(this.hostElem.nativeElement,t);let r=new Blob([n],{type:"text/html"}),a=URL.createObjectURL(r);t.src=a}else console.log("hostElem is null")}};e.\u0275fac=function(n){return new(n||e)(de(De),de(fe))},e.\u0275cmp=K({type:e,selectors:[["emulator-app"]],viewQuery:function(n,r){if(n&1&&Ve(gt,5),n&2){let a;Re(a=Be())&&(r.hostElem=a.first)}},inputs:{isOpen:[1,"isOpen"],root:[1,"root"]},standalone:!0,features:[N],decls:2,vars:0,consts:[["phoneelement",""],[1,"phone"]],template:function(n,r){n&1&&b(0,"div",1,0)},styles:[".phone[_ngcontent-%COMP%]{margin:0;border-style:none;height:100%;overflow:hidden}"]});let i=e;return i})();var Ct=i=>({marginLeft:i});function vt(i,e){i&1&&(l(0,"span"),w(1,"remove_circle"),m())}function yt(i,e){i&1&&(l(0,"span"),w(1,"add_circle"),m())}function xt(i,e){if(i&1&&(l(0,"span",8),F(1,vt,2,0,"span",7)(2,yt,2,0,"span",7),m()),i&2){let o=_();u(),A("ngIf",o.data().isExpanded),u(),A("ngIf",!o.data().isExpanded)}}function kt(i,e){i&1&&(O(0),l(1,"span",8),w(2,"list"),m(),D())}function wt(i,e){i&1&&(O(0),l(1,"span",8),w(2,"details"),m(),D())}function Tt(i,e){i&1&&(O(0),l(1,"span",8),w(2,"list_alt"),m(),D())}function $t(i,e){i&1&&(O(0),l(1,"span",8),w(2,"sync_alt"),m(),D())}function Et(i,e){i&1&&(O(0),l(1,"span",8),w(2,"table_view"),m(),D())}function St(i,e){i&1&&(O(0),l(1,"span",8),w(2,"search"),m(),D())}function Pt(i,e){i&1&&(O(0),l(1,"span",8),w(2,"smart_toy"),m(),D())}function Mt(i,e){i&1&&(O(0),l(1,"span",8),w(2,"filter_alt"),m(),D())}function Ft(i,e){i&1&&(O(0),w(1,"MASTER"),D())}function Ot(i,e){i&1&&(O(0),w(1,"DETAIL"),D())}function Dt(i,e){i&1&&(O(0),w(1,"CREATE"),D())}function It(i,e){i&1&&(O(0),w(1,"UPDATE"),D())}function Vt(i,e){i&1&&(O(0),w(1,"MODALS"),D())}function Rt(i,e){i&1&&(O(0),w(1,"SEARCH"),D())}function Bt(i,e){i&1&&(O(0),w(1,"AGENT"),D())}function jt(i,e){i&1&&(O(0),w(1,"FILTERS"),D())}function Ut(i,e){if(i&1){let o=j();O(0),l(1,"div",10),S("click",function(){let n=I(o).$implicit,r=_(2);return V(r.clicked(n))}),b(2,"div",11),l(3,"div",12),F(4,kt,3,0,"ng-container",7)(5,wt,3,0,"ng-container",7)(6,Tt,3,0,"ng-container",7)(7,$t,3,0,"ng-container",7)(8,Et,3,0,"ng-container",7)(9,St,3,0,"ng-container",7)(10,Pt,3,0,"ng-container",7)(11,Mt,3,0,"ng-container",7),m(),l(12,"div",13),w(13),l(14,"div"),w(15),m()(),l(16,"div",14),F(17,Ft,2,0,"ng-container",7)(18,Ot,2,0,"ng-container",7)(19,Dt,2,0,"ng-container",7)(20,It,2,0,"ng-container",7)(21,Vt,2,0,"ng-container",7)(22,Rt,2,0,"ng-container",7)(23,Bt,2,0,"ng-container",7)(24,jt,2,0,"ng-container",7),m()(),D()}if(i&2){let o=e.$implicit,t=_(2);u(),le("active",o===t.current()),A("ngStyle",Le(23,Ct,t.isMaster(o)?"3px":t.isDetail(o)||t.isCreate(o)?"13px":(t.isUpdate(o),"23px"))),u(),H("background-color",o.shape.stroke),u(2),A("ngIf",t.isMaster(o)),u(),A("ngIf",t.isDetail(o)),u(),A("ngIf",t.isCreate(o)),u(),A("ngIf",t.isUpdate(o)),u(),A("ngIf",t.isModals(o)),u(),A("ngIf",t.isSearch(o)),u(),A("ngIf",t.isAgent(o)),u(),A("ngIf",t.isFilter(o)),u(2),Y(" ",o.key," "),u(2),Y(" ",o.pageType," "),u(2),A("ngIf",t.isMaster(o)),u(),A("ngIf",t.isDetail(o)),u(),A("ngIf",t.isCreate(o)),u(),A("ngIf",t.isUpdate(o)),u(),A("ngIf",t.isModals(o)),u(),A("ngIf",t.isSearch(o)),u(),A("ngIf",t.isAgent(o)),u(),A("ngIf",t.isFilter(o))}}function Kt(i,e){if(i&1&&(l(0,"div",5),F(1,Ut,25,25,"ng-container",9),m()),i&2){let o=_();u(),A("ngForOf",o.pages())}}function Nt(i,e){if(i&1){let o=j();l(0,"page-tree",16),S("onClicked",function(n){I(o);let r=_(2);return V(r.onClicked.emit(n))}),m()}if(i&2){let o=e.$implicit,t=_(2);A("data",o)("parent",t.data())("current",t.current())}}function Ht(i,e){if(i&1&&(O(0),F(1,Nt,1,3,"page-tree",15),D()),i&2){let o=_();u(),A("ngForOf",o.links())}}var dt=(()=>{let e=class e{constructor(){this.onClicked=te(),this.parent=P(null),this.data=P.required(),this.current=P(null),this.pages=z(()=>{if(this.data().builderType==="LinkStatement"){let t=this.data(),n=Array();for(let r of t.getChildren())r.builderType==="PageStatement"&&n.push(r);return n}return[]}),this.links=z(()=>{if(this.data().builderType==="LinkStatement"){let t=this.data(),n=Array();for(let r of t.getChildren())r.builderType==="LinkStatement"&&n.push(r);return n}return[]})}ngOnInit(){}clicked(t){this.onClicked.emit(t)}linkClicked(){}childClicked(t){this.onClicked.emit(t)}toggleExpand(){this.data().isExpanded=!this.data().isExpanded}isFolder(){return this.data().getChildren().length!==0}isMaster(t){return t.pageType===U.MasterDetailPage||t.pageType===U.MasterDetailFkPage||t.pageType===U.ListPage}isDetail(t){return t.pageType===U.DetailPage||t.pageType===U.DetailFkPage}isCreate(t){return t.pageType===U.CreatePage||t.pageType===U.CreateFkPage}isUpdate(t){return t.pageType===U.UpdatePage||t.pageType===U.UpdateFkPage}isModals(t){return t.pageType===U.Modals}isSearch(t){return t.pageType===U.SearchPage}isAgent(t){return t.pageType===U.AgentPage}isFilter(t){return t.pageType===U.Filters}getPageType(t){return t.pageType}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=K({type:e,selectors:[["page-tree"]],inputs:{parent:[1,"parent"],data:[1,"data"],current:[1,"current"]},outputs:{onClicked:"onClicked"},standalone:!0,features:[N],decls:10,vars:4,consts:[[1,"page",3,"click"],[1,"expander",3,"click"],["class","small-icon",4,"ngIf"],[1,"page-detail"],[1,"tablekey"],[1,"subkey"],[1,"subtree"],[4,"ngIf"],[1,"small-icon"],[4,"ngFor","ngForOf"],[1,"page-props","accent-shadow",3,"click","ngStyle"],[1,"sliver"],[1,"verb-icon"],[1,"page-key"],[1,"page-parentverb","el1"],[3,"data","parent","current","onClicked",4,"ngFor","ngForOf"],[3,"onClicked","data","parent","current"]],template:function(n,r){n&1&&(l(0,"div",0),S("click",function(){return r.linkClicked()}),l(1,"div",1),S("click",function(){return r.toggleExpand()}),F(2,xt,3,2,"span",2),m(),l(3,"div",3)(4,"div")(5,"div",4),w(6),m(),F(7,Kt,2,1,"div",5),m()()(),l(8,"div",6),F(9,Ht,2,1,"ng-container",7),m()),n&2&&(u(2),A("ngIf",r.isFolder()),u(4),Y("TABLE:",r.data().first(),""),u(),Q(r.data().isExpanded?7:-1),u(2),A("ngIf",r.isFolder()&&r.data().isExpanded))},dependencies:[e,G,ce,ue,Ae],styles:['.expander[_ngcontent-%COMP%]{grid-area:expander;padding-top:2px}.page-props[_ngcontent-%COMP%]{display:grid;grid-template-columns:1px 22px auto 70px;grid-template-areas:"sliver verb-icon page-key page-parentverb";margin-bottom:7px;column-gap:2px;align-items:center}.sliver[_ngcontent-%COMP%]{grid-area:sliver;width:1px;margin:0;height:20px;display:flex;justify-content:space-evenly;align-items:center}.page-props[_ngcontent-%COMP%]:hover{background:var(--border-color)}.page-props[_ngcontent-%COMP%]:active{transition:.2s ease-out}.pageType-icon[_ngcontent-%COMP%]{grid-area:verb-icon;display:flex;justify-content:center}.page-key[_ngcontent-%COMP%]{grid-area:page-key;font-size:11px}.page-parentverb[_ngcontent-%COMP%]{grid-area:page-parentverb;color:var(--text-color);text-align:center;background-color:transparent}.get[_ngcontent-%COMP%]{color:orange}.getone[_ngcontent-%COMP%]{color:green}.post[_ngcontent-%COMP%]{color:purple}.put[_ngcontent-%COMP%]{color:violet}.delet[_ngcontent-%COMP%]{color:red}.cust[_ngcontent-%COMP%]{color:#00f}.page-detail[_ngcontent-%COMP%]{grid-area:page-detail;display:grid;grid-template-areas:"key" "subkey";grid-template-rows:auto auto;row-gap:2px}.page[_ngcontent-%COMP%]{display:grid;grid-template-areas:"expander page-detail";grid-template-columns:22px auto;padding-right:15px}.treetoggleicon[_ngcontent-%COMP%]{grid-area:treetoggleicon}.tablekey[_ngcontent-%COMP%]{grid-area:tablekey;word-wrap:break-word;text-align:center;box-shadow:var(--glass-shadow);display:flex;justify-content:space-between;align-content:center;align-items:stretch;gap:10px}.subkey[_ngcontent-%COMP%]{grid-area:subkey;font-size:12px;word-wrap:break-word;word-break:break-all}']});let i=e;return i})();var Wt=i=>({marginLeft:i});function Yt(i,e){i&1&&(l(0,"span"),w(1,"remove_circle"),m())}function Gt(i,e){i&1&&(l(0,"span"),w(1,"add_circle"),m())}function qt(i,e){if(i&1&&(l(0,"span",8),F(1,Yt,2,0,"span",7)(2,Gt,2,0,"span",7),m()),i&2){let o=_();u(),A("ngIf",o.data().isExpanded),u(),A("ngIf",!o.data().isExpanded)}}function zt(i,e){i&1&&(O(0),l(1,"span",8),w(2,"list"),m(),D())}function Zt(i,e){i&1&&(O(0),l(1,"span",8),w(2,"details"),m(),D())}function Xt(i,e){i&1&&(O(0),l(1,"span",8),w(2,"list_alt"),m(),D())}function Jt(i,e){i&1&&(O(0),l(1,"span",8),w(2,"sync_alt"),m(),D())}function Qt(i,e){i&1&&(O(0),l(1,"span",8),w(2,"bookmark_remove"),m(),D())}function bt(i,e){i&1&&(O(0),w(1,"GET"),D())}function en(i,e){i&1&&(O(0),w(1,"GET"),D())}function tn(i,e){i&1&&(O(0),w(1,"POST"),D())}function nn(i,e){i&1&&(O(0),w(1,"PUT"),D())}function on(i,e){i&1&&(O(0),w(1,"DELETE"),D())}function rn(i,e){if(i&1){let o=j();O(0),l(1,"div",10),S("click",function(){let n=I(o).$implicit,r=_(2);return V(r.clicked(n))}),b(2,"div",11),l(3,"div",12),F(4,zt,3,0,"ng-container",7)(5,Zt,3,0,"ng-container",7)(6,Xt,3,0,"ng-container",7)(7,Jt,3,0,"ng-container",7)(8,Qt,3,0,"ng-container",7),m(),l(9,"div",13),w(10),l(11,"div"),w(12),m()(),l(13,"div",14),F(14,bt,2,0,"ng-container",7)(15,en,2,0,"ng-container",7)(16,tn,2,0,"ng-container",7)(17,nn,2,0,"ng-container",7)(18,on,2,0,"ng-container",7),m()(),D()}if(i&2){let o=e.$implicit,t=_(2);u(),le("active",o===t.current()),A("ngStyle",Le(17,Wt,t.isMany(o)?"3px":t.isOne(o)||t.isPOST(o)?"13px":t.isPUT(o)?"23px":t.isDELETE(o)?"13px":"23px")),u(),H("background-color",o.shape.stroke),u(2),A("ngIf",t.isMany(o)),u(),A("ngIf",t.isOne(o)),u(),A("ngIf",t.isPOST(o)),u(),A("ngIf",t.isPUT(o)),u(),A("ngIf",t.isDELETE(o)),u(2),Y(" ",o.key," "),u(2),Y(" ",o.verb," "),u(2),A("ngIf",t.isMany(o)),u(),A("ngIf",t.isOne(o)),u(),A("ngIf",t.isPOST(o)),u(),A("ngIf",t.isPUT(o)),u(),A("ngIf",t.isDELETE(o))}}function an(i,e){if(i&1&&(l(0,"div",5),F(1,rn,19,19,"ng-container",9),m()),i&2){let o=_();u(),A("ngForOf",o.routes())}}function pn(i,e){if(i&1){let o=j();l(0,"route-tree",16),S("onClicked",function(n){I(o);let r=_(2);return V(r.onClicked.emit(n))}),m()}if(i&2){let o=e.$implicit,t=_(2);A("data",o)("parent",t.data())("current",t.current())}}function dn(i,e){if(i&1&&(O(0),F(1,pn,1,3,"route-tree",15),D()),i&2){let o=_();u(),A("ngForOf",o.links())}}var lt=(()=>{let e=class e{constructor(){this.onClicked=te(),this.parent=P(null),this.data=P.required(),this.current=P(null),this.routes=z(()=>{if(this.data().builderType==="LinkStatement"){let t=this.data(),n=Array();for(let r of t.getChildren())r.builderType==="RouteStatement"&&n.push(r);return n}return[]}),this.links=z(()=>{if(this.data().builderType==="LinkStatement"){let t=this.data(),n=Array();for(let r of t.getChildren())r.builderType==="LinkStatement"&&n.push(r);return n}return[]})}ngOnInit(){}clicked(t){this.onClicked.emit(t)}linkClicked(){}childClicked(t){this.onClicked.emit(t)}toggleExpand(){this.data().isExpanded=!this.data().isExpanded}isFolder(){return this.data().getChildren().length!==0}isMany(t){return t.verb===h.MANY||t.verb===h.FetchManyByFk||t.verb===h.FetchMany||t.verb===h.KeysProvider}isOne(t){return t.verb===h.ONE||t.verb===h.FetchOne||t.verb===h.FetchOneFk}isPOST(t){return t.verb===h.POST||t.verb===h.Create||t.verb===h.CreateByFk||t.verb===h.Search||t.verb===h.Filter||t.verb===h.Agent}isPUT(t){return t.verb===h.PUT||t.verb===h.Update||t.verb===h.UpdateByFk}isDELETE(t){return t.verb===h.DELETE||t.verb===h.Delete||t.verb===h.DeleteByFk}getVerb(t){return t.verb===h.MANY||t.verb===h.FetchManyByFk||t.verb===h.FetchMany||t.verb===h.KeysProvider?"MANY":t.verb===h.ONE||t.verb===h.FetchOne||t.verb===h.FetchOneFk?"ONE":t.verb===h.POST||t.verb===h.Create||t.verb===h.CreateByFk||t.verb===h.Search||t.verb===h.Filter||t.verb===h.Agent?"CREATE":t.verb===h.PUT||t.verb===h.Update||t.verb===h.UpdateByFk?"CHANGE":t.verb===h.DELETE||t.verb===h.Delete||t.verb===h.DeleteByFk?"DELETE":"tune"}getVerbIcon(t){let n="tune";return t.verb===h.MANY||t.verb===h.FetchManyByFk||t.verb===h.FetchMany||t.verb===h.KeysProvider?n="list":t.verb===h.ONE||t.verb===h.FetchOne||t.verb===h.FetchOneFk?n="details":t.verb===h.POST||t.verb===h.Create||t.verb===h.CreateByFk||t.verb===h.Search||t.verb===h.Filter||t.verb===h.Agent?n="list_alt":t.verb===h.PUT||t.verb===h.Update||t.verb===h.UpdateByFk?n="sync_alt":(t.verb===h.DELETE||t.verb===h.Delete||t.verb===h.DeleteByFk)&&(n="bookmark_remove"),{icon:n}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=K({type:e,selectors:[["route-tree"]],inputs:{parent:[1,"parent"],data:[1,"data"],current:[1,"current"]},outputs:{onClicked:"onClicked"},standalone:!0,features:[N],decls:10,vars:4,consts:[[1,"route",3,"click"],[1,"expander",3,"click"],["class","small-icon",4,"ngIf"],[1,"route-detail"],[1,"tablekey"],[1,"subkey"],[1,"subtree"],[4,"ngIf"],[1,"small-icon"],[4,"ngFor","ngForOf"],[1,"route-props","accent-shadow",3,"click","ngStyle"],[1,"sliver"],[1,"verb-icon"],[1,"route-key"],[1,"route-parentverb","el1"],[3,"data","parent","current","onClicked",4,"ngFor","ngForOf"],[3,"onClicked","data","parent","current"]],template:function(n,r){n&1&&(l(0,"div",0),S("click",function(){return r.linkClicked()}),l(1,"div",1),S("click",function(){return r.toggleExpand()}),F(2,qt,3,2,"span",2),m(),l(3,"div",3)(4,"div")(5,"div",4),w(6),m(),F(7,an,2,1,"div",5),m()()(),l(8,"div",6),F(9,dn,2,1,"ng-container",7),m()),n&2&&(u(2),A("ngIf",r.isFolder()),u(4),Y("TABLE:",r.data().first(),""),u(),Q(r.data().isExpanded?7:-1),u(2),A("ngIf",r.isFolder()&&r.data().isExpanded))},dependencies:[e,G,ce,ue,Ae],styles:['.expander[_ngcontent-%COMP%]{grid-area:expander;padding-top:2px}.route-props[_ngcontent-%COMP%]{display:grid;grid-template-columns:1px 22px auto 70px;grid-template-areas:"sliver verb-icon route-key route-parentverb";margin-bottom:7px;column-gap:2px;align-items:center}.sliver[_ngcontent-%COMP%]{grid-area:sliver;width:1px;margin:0;height:20px;display:flex;justify-content:space-evenly;align-items:center}.route-props[_ngcontent-%COMP%]:hover{background:var(--border-color)}.route-props[_ngcontent-%COMP%]:active{transition:.2s ease-out}.verb-icon[_ngcontent-%COMP%]{grid-area:verb-icon;display:flex;justify-content:center}.route-key[_ngcontent-%COMP%]{grid-area:route-key;font-size:11px}.route-parentverb[_ngcontent-%COMP%]{grid-area:route-parentverb;color:var(--text-color);text-align:center;background-color:transparent}.get[_ngcontent-%COMP%]{color:orange}.getone[_ngcontent-%COMP%]{color:green}.post[_ngcontent-%COMP%]{color:purple}.put[_ngcontent-%COMP%]{color:violet}.delet[_ngcontent-%COMP%]{color:red}.cust[_ngcontent-%COMP%]{color:#00f}.route-detail[_ngcontent-%COMP%]{grid-area:route-detail;display:grid;grid-template-areas:"key" "subkey";grid-template-rows:auto auto;row-gap:2px}.route[_ngcontent-%COMP%]{display:grid;grid-template-areas:"expander route-detail";grid-template-columns:22px auto;padding-right:15px}.treetoggleicon[_ngcontent-%COMP%]{grid-area:treetoggleicon}.tablekey[_ngcontent-%COMP%]{grid-area:tablekey;word-wrap:break-word;text-align:center;box-shadow:var(--glass-shadow);display:flex;justify-content:space-between;align-content:center;align-items:stretch;gap:10px}.subkey[_ngcontent-%COMP%]{grid-area:subkey;font-size:12px;word-wrap:break-word;word-break:break-all}']});let i=e;return i})();function ln(i,e){i&1&&(l(0,"span"),w(1,"remove_circle"),m())}function sn(i,e){i&1&&(l(0,"span"),w(1,"add_circle"),m())}function cn(i,e){if(i&1&&(l(0,"span",8),F(1,ln,2,0,"span",7)(2,sn,2,0,"span",7),m()),i&2){let o=_();u(),A("ngIf",o.data().isExpanded),u(),A("ngIf",!o.data().isExpanded)}}function un(i,e){if(i&1&&(O(0),l(1,"div",18)(2,"div",19),w(3),m(),l(4,"div",19),w(5),m()(),D()),i&2){let o=e.$implicit;u(3),se(o.key),u(2),se(o.content)}}function mn(i,e){if(i&1){let o=j();l(0,"div",10),S("click",function(){let n=I(o).$implicit,r=_(2);return V(r.clicked(n))}),b(1,"div",11)(2,"div",12),l(3,"div",13),w(4),l(5,"span",14),w(6),m()(),l(7,"div",15),w(8),m(),l(9,"div",16),F(10,un,6,2,"ng-container",17),m()()}if(i&2){let o=e.$implicit,t=e.$index,n=_(2);le("active",o===n.current()),u(),H("background-color",o.shape.stroke),u(3),Y(" ",o.key," "),u(2),se(t+1),u(2),Y("#",o.fields.length,""),u(2),A("ngForOf",o.fields)}}function hn(i,e){if(i&1&&(l(0,"div",5),ie(1,mn,11,8,"div",9,ne),m()),i&2){let o=_();u(),oe(o.records())}}function fn(i,e){if(i&1){let o=j();l(0,"record-tree",21),S("onClicked",function(n){I(o);let r=_(2);return V(r.onClicked.emit(n))}),m()}if(i&2){let o=e.$implicit,t=_(2);A("data",o)("parent",t.data())("current",t.current())}}function gn(i,e){if(i&1&&(O(0),F(1,fn,1,3,"record-tree",20),D()),i&2){let o=_();u(),A("ngForOf",o.links())}}var st=(()=>{let e=class e{constructor(){this.onClicked=te(),this.parent=P(null),this.data=P.required(),this.current=P(null),this.records=z(()=>{if(this.data().builderType==="LinkStatement"){let t=this.data(),n=Array();for(let r of t.getChildren())r.builderType==="RecordStatement"&&n.push(r);return n}return[]}),this.links=z(()=>{if(this.data().builderType==="LinkStatement"){let t=this.data(),n=Array();for(let r of t.getChildren())r.builderType==="LinkStatement"&&n.push(r);return n}return[]})}ngOnInit(){}clicked(t){this.onClicked.emit(t)}linkClicked(){}childClicked(t){this.onClicked.emit(t)}toggleExpand(){this.data().isExpanded=!this.data().isExpanded}isFolder(){return this.data().getChildren().length!==0}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=K({type:e,selectors:[["record-tree"]],inputs:{parent:[1,"parent"],data:[1,"data"],current:[1,"current"]},outputs:{onClicked:"onClicked"},standalone:!0,features:[N],decls:10,vars:4,consts:[[1,"record",3,"click"],[1,"expander",3,"click"],["class","small-icon",4,"ngIf"],[1,"record-detail"],[1,"tablekey"],[1,"subkey"],[1,"subtree"],[4,"ngIf"],[1,"small-icon"],[1,"record-props","accent-shadow",3,"active"],[1,"record-props","accent-shadow",3,"click"],[1,"sliver"],[1,"verb-icon"],[1,"record-key"],[1,"el1"],[1,"record-parentverb","el1"],[1,"content"],[4,"ngFor","ngForOf"],[1,"row","el0"],[1,"col"],[3,"data","parent","current","onClicked",4,"ngFor","ngForOf"],[3,"onClicked","data","parent","current"]],template:function(n,r){n&1&&(l(0,"div",0),S("click",function(){return r.linkClicked()}),l(1,"div",1),S("click",function(){return r.toggleExpand()}),F(2,cn,3,2,"span",2),m(),l(3,"div",3)(4,"div")(5,"div",4),w(6),m(),F(7,hn,3,0,"div",5),m()()(),l(8,"div",6),F(9,gn,2,1,"ng-container",7),m()),n&2&&(u(2),A("ngIf",r.isFolder()),u(4),Y("TABLE:",r.data().first(),""),u(),Q(r.data().isExpanded?7:-1),u(2),A("ngIf",r.isFolder()&&r.data().isExpanded))},dependencies:[e,G,ce,ue],styles:['.expander[_ngcontent-%COMP%]{grid-area:expander;padding-top:2px}.record-props[_ngcontent-%COMP%]{display:grid;grid-template-columns:1px 22px auto 70px;grid-template-areas:"sliver verb-icon record-key record-parentverb" "sliver content content content";margin-bottom:7px;grid-template-rows:auto auto;column-gap:2px;align-items:center}.sliver[_ngcontent-%COMP%]{grid-area:sliver;width:1px;margin:0;height:100%}.record-props[_ngcontent-%COMP%]:hover{background:var(--border-color)}.record-props[_ngcontent-%COMP%]:active{transition:.2s ease-out}.verb-icon[_ngcontent-%COMP%]{grid-area:verb-icon;display:flex;justify-content:center}.record-key[_ngcontent-%COMP%]{grid-area:record-key;font-size:11px}.record-parentverb[_ngcontent-%COMP%]{grid-area:record-parentverb;color:var(--text-color);text-align:center;background-color:transparent}.content[_ngcontent-%COMP%]{grid-area:content;margin-left:30px;font-size:11px;padding:10px}.get[_ngcontent-%COMP%]{color:orange}.getone[_ngcontent-%COMP%]{color:green}.post[_ngcontent-%COMP%]{color:purple}.put[_ngcontent-%COMP%]{color:violet}.delet[_ngcontent-%COMP%]{color:red}.cust[_ngcontent-%COMP%]{color:#00f}.record-detail[_ngcontent-%COMP%]{grid-area:record-detail;display:grid;grid-template-areas:"key" "subkey";grid-template-rows:auto auto;row-gap:2px}.record[_ngcontent-%COMP%]{display:grid;grid-template-areas:"expander record-detail";grid-template-columns:22px auto;padding-right:15px}.treetoggleicon[_ngcontent-%COMP%]{grid-area:treetoggleicon}.tablekey[_ngcontent-%COMP%]{grid-area:tablekey;word-wrap:break-word;text-align:center;display:flex;justify-content:space-between;align-content:center;align-items:stretch;gap:10px}.subkey[_ngcontent-%COMP%]{grid-area:subkey;font-size:12px;word-wrap:break-word;word-break:break-all}']});let i=e;return i})();function Ln(i,e){i&1&&(l(0,"span"),w(1,"remove_circle"),m())}function An(i,e){i&1&&(l(0,"span"),w(1,"add_circle"),m())}function _n(i,e){if(i&1&&(l(0,"span",8),F(1,Ln,2,0,"span",7)(2,An,2,0,"span",7),m()),i&2){let o=_();u(),A("ngIf",o.data().isExpanded),u(),A("ngIf",!o.data().isExpanded)}}function Cn(i,e){if(i&1&&(O(0),l(1,"div",18)(2,"div",19),w(3),m(),l(4,"div",19),w(5),m()(),D()),i&2){let o=e.$implicit;u(3),se(o.key),u(2),se(o.type)}}function vn(i,e){if(i&1){let o=j();l(0,"div",10),S("click",function(){let n=I(o).$implicit,r=_(2);return V(r.clicked(n))}),b(1,"div",11)(2,"div",12),l(3,"div",13),w(4),l(5,"span",14),w(6),m()(),l(7,"div",15),w(8),m(),l(9,"div",16),F(10,Cn,6,2,"ng-container",17),m()()}if(i&2){let o=e.$implicit,t=e.$index,n=_(2);le("active",o===n.current()),u(),H("background-color",o.shape.stroke),u(3),Y(" ",o.key," "),u(2),se(t+1),u(2),Y("#",o.columns.length,""),u(2),A("ngForOf",o.columns)}}function yn(i,e){if(i&1&&(l(0,"div",5),ie(1,vn,11,8,"div",9,ne),m()),i&2){let o=_();u(),oe(o.tables())}}function xn(i,e){if(i&1){let o=j();l(0,"table-tree",21),S("onClicked",function(n){I(o);let r=_(2);return V(r.onClicked.emit(n))}),m()}if(i&2){let o=e.$implicit,t=_(2);A("data",o)("parent",t.data())("current",t.current())}}function kn(i,e){if(i&1&&(O(0),F(1,xn,1,3,"table-tree",20),D()),i&2){let o=_();u(),A("ngForOf",o.links())}}var ct=(()=>{let e=class e{constructor(){this.onClicked=te(),this.parent=P(null),this.data=P.required(),this.current=P(null),this.tables=z(()=>{if(this.data().builderType==="LinkStatement"){let t=this.data(),n=Array();for(let r of t.getChildren())r.builderType==="TableStatement"&&n.push(r);return n}return[]}),this.links=z(()=>{if(this.data().builderType==="LinkStatement"){let t=this.data(),n=Array();for(let r of t.getChildren())r.builderType==="LinkStatement"&&n.push(r);return n}return[]})}ngOnInit(){}clicked(t){this.onClicked.emit(t)}linkClicked(){}childClicked(t){this.onClicked.emit(t)}toggleExpand(){this.data().isExpanded=!this.data().isExpanded}isFolder(){return this.data().getChildren().length!==0}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=K({type:e,selectors:[["table-tree"]],inputs:{parent:[1,"parent"],data:[1,"data"],current:[1,"current"]},outputs:{onClicked:"onClicked"},standalone:!0,features:[N],decls:10,vars:4,consts:[[1,"table",3,"click"],[1,"expander",3,"click"],["class","small-icon",4,"ngIf"],[1,"table-detail"],[1,"tablekey"],[1,"subkey"],[1,"subtree"],[4,"ngIf"],[1,"small-icon"],[1,"table-props","accent-shadow",3,"active"],[1,"table-props","accent-shadow",3,"click"],[1,"sliver"],[1,"verb-icon"],[1,"table-key"],[1,"el1"],[1,"table-parentverb","el1"],[1,"content"],[4,"ngFor","ngForOf"],[1,"row","el0"],[1,"col"],[3,"data","parent","current","onClicked",4,"ngFor","ngForOf"],[3,"onClicked","data","parent","current"]],template:function(n,r){n&1&&(l(0,"div",0),S("click",function(){return r.linkClicked()}),l(1,"div",1),S("click",function(){return r.toggleExpand()}),F(2,_n,3,2,"span",2),m(),l(3,"div",3)(4,"div")(5,"div",4),w(6),m(),F(7,yn,3,0,"div",5),m()()(),l(8,"div",6),F(9,kn,2,1,"ng-container",7),m()),n&2&&(u(2),A("ngIf",r.isFolder()),u(4),Y("TABLE:",r.data().first(),""),u(),Q(r.data().isExpanded?7:-1),u(2),A("ngIf",r.isFolder()&&r.data().isExpanded))},dependencies:[e,G,ce,ue],styles:['.expander[_ngcontent-%COMP%]{grid-area:expander;padding-top:2px}.table-props[_ngcontent-%COMP%]{display:grid;grid-template-columns:1px 22px auto 70px;grid-template-areas:"sliver verb-icon table-key table-parentverb" "sliver content content content";margin-bottom:7px;grid-template-rows:auto auto;column-gap:2px;align-items:center}.sliver[_ngcontent-%COMP%]{grid-area:sliver;width:1px;margin:0;height:100%}.table-props[_ngcontent-%COMP%]:hover{background:var(--border-color)}.table-props[_ngcontent-%COMP%]:active{transition:.2s ease-out}.verb-icon[_ngcontent-%COMP%]{grid-area:verb-icon;display:flex;justify-content:center}.table-key[_ngcontent-%COMP%]{grid-area:table-key;font-size:11px}.table-parentverb[_ngcontent-%COMP%]{grid-area:table-parentverb;color:var(--text-color);text-align:center;background-color:transparent}.content[_ngcontent-%COMP%]{grid-area:content;margin-left:30px;font-size:11px;padding:10px}.get[_ngcontent-%COMP%]{color:orange}.getone[_ngcontent-%COMP%]{color:green}.post[_ngcontent-%COMP%]{color:purple}.put[_ngcontent-%COMP%]{color:violet}.delet[_ngcontent-%COMP%]{color:red}.cust[_ngcontent-%COMP%]{color:#00f}.table-detail[_ngcontent-%COMP%]{grid-area:table-detail;display:grid;grid-template-areas:"key" "subkey";grid-template-rows:auto auto;row-gap:2px}.table[_ngcontent-%COMP%]{display:grid;grid-template-areas:"expander table-detail";grid-template-columns:22px auto;padding-right:15px}.treetoggleicon[_ngcontent-%COMP%]{grid-area:treetoggleicon}.tablekey[_ngcontent-%COMP%]{grid-area:tablekey;word-wrap:break-word;text-align:center;display:flex;justify-content:space-between;align-content:center;align-items:stretch;gap:10px}.subkey[_ngcontent-%COMP%]{grid-area:subkey;font-size:12px;word-wrap:break-word;word-break:break-all}']});let i=e;return i})();function wn(i,e){if(i&1){let o=j();l(0,"route-tree",1),S("onClicked",function(n){I(o);let r=_(2);return V(r.setCurrent(n))}),m()}if(i&2){let o=_().$implicit,t=_();A("data",o)("current",t.current())}}function Tn(i,e){if(i&1){let o=j();l(0,"page-tree",1),S("onClicked",function(n){I(o);let r=_(2);return V(r.setCurrent(n))}),m()}if(i&2){let o=_().$implicit,t=_();A("data",o)("current",t.current())}}function $n(i,e){if(i&1){let o=j();l(0,"record-tree",1),S("onClicked",function(n){I(o);let r=_(2);return V(r.setCurrent(n))}),m()}if(i&2){let o=_().$implicit,t=_();A("data",o)("current",t.current())}}function En(i,e){if(i&1){let o=j();l(0,"table-tree",1),S("onClicked",function(n){I(o);let r=_(2);return V(r.setCurrent(n))}),m()}if(i&2){let o=_().$implicit,t=_();A("data",o)("current",t.current())}}function Sn(i,e){if(i&1&&F(0,wn,1,2,"route-tree",0)(1,Tn,1,2,"page-tree",0)(2,$n,1,2,"record-tree",0)(3,En,1,2,"table-tree",0),i&2){let o=_();Q(o.displayType()==="API"?0:o.displayType()==="DESIGN"?1:o.displayType()==="SEED"?2:o.displayType()==="SCHEMA"?3:-1)}}var me=(()=>{let e=class e{constructor(){this.onClicked=te(),this.project=P.required(),this.displayType=P.required(),this.current=q(null),this.tableLinks=q([]),this.setCurrent=t=>{this.current.set(t),this.onClicked.emit(t)},this.getLink=(t,n)=>{let r=new Array;for(let a of n){r.push(a),a.isExpanded=!0;for(let p of a.getChildren())if(p.isLINK()){r.push(p);for(let d of p.getChildren())if(d.isLINK()){r.push(d);for(let v of d.getChildren())if(v.isLINK()){r.push(v);for(let y of v.getChildren())y.isLINK()&&r.push(y)}}}}return r.find(a=>a.fromKey===t)}}ngOnChanges(t){(t.project||t.displayType)&&this.project()&&(this.displayType()==="API"?this.addApis():this.displayType()==="DESIGN"?this.addDesigns():this.displayType()==="SEED"?this.addSeeds():this.displayType()==="SCHEMA"&&this.addSchemas())}ngOnInit(){}dropped(t){t.preventDefault();let n=t.dataTransfer.getData("text"),r=this.tableLinks().find(a=>a.fromKey===n);r&&this.setCurrent(r)}addSchemas(){this.tableLinks.set(this.getTableLinks());let t=this.project().schema[0];if(t){for(let n of t.tables)if(n.key){let r=this.getLink(n.key,this.tableLinks());r&&r.addChild(n)}}}addSeeds(){this.tableLinks.set(this.getTableLinks());let t=this.project().seed[0];if(t){for(let n of t.records)if(n.tableKey){let r=this.getLink(n.tableKey,this.tableLinks());r&&r.addChild(n)}}}addDesigns(){this.tableLinks.set(this.getTableLinks());let t=this.project().design[0];if(t){for(let n of t.pages)if(n.tableKey){let r=this.getLink(n.tableKey,this.tableLinks());r&&r.addChild(n)}}}addApis(){this.tableLinks.set(this.getTableLinks());let t=this.project().api[0];if(t)for(let n of t.routes){let r=this.getLink(n.tableKey,this.tableLinks());r&&r.addChild(n)}}getTableLinks(){let t=new Array;if(!this.project().schema||!this.project().schema.length)return t;let n=this.project().schema[0].tables;return n.length&&(this.validateRelations(n),this.createTreeOfRelatedTables(n,t)),t}createTreeOfRelatedTables(t,n){for(let a of t){let p=new Ze;p.from=a,p.fromKey=a.key,n.push(p)}let r=new Array;r.push(...n);for(let a of n){let p=a.from;if(p){for(let d of p.columns)if(d.type===R.MANY&&d.foreignType){for(let v of t)if(v.key===d.foreignType){let y=n.find(x=>x.from===v);y&&(a.addChild(y),n.splice(n.indexOf(y),1))}}}}for(let a of t)if(r.find(d=>d.from===a)){for(let d of a.columns)if(d.type===R.MANY&&d.foreignType){let v=t.find(y=>y.key===d.foreignType);if(v){let y=r.find(x=>x.from===v);for(let x of v.columns)if(x.type===R.MANY){let f=t.find(c=>c.key===x.foreignType),g=r.find(c=>c.from===f);if(!g)continue;y.addChild(g),n.splice(n.indexOf(g),1)}}}}for(let a of t){let p=r.find(d=>d.from===a);if(p){for(let d of a.columns)if(d.type===R.MANY&&d.foreignType){let v=t.find(y=>y.key===d.foreignType);if(v&&p){if(!r.find(x=>x.from===v))continue;for(let x of v.columns)if(x.type===R.MANY){let f=t.find(c=>c.key===x.foreignType),g=r.find(c=>c.from===f);if(!g)continue;for(let c of f.columns)if(c.type===R.MANY){let s=t.find(M=>M.key===c.foreignType),T=r.find(M=>M.from===s);if(!T)continue;g.addChild(T),n.splice(n.indexOf(T),1)}}}}}}}validateRelations(t){for(let n of t)for(let r of n.columns)if(r.type===R.ONE&&r.foreignType){for(let a of t)if(a.key===r.foreignType){let p=!1,d=null;for(let v of a.columns)if(v.type===R.MANY&&v.foreignType===n.key){p=!0,d=v;break}p||(d=new ze,d.key=n.plural,d.type=R.MANY,d.foreignType=n.key,a.columns.push(d))}}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=K({type:e,selectors:[["link-tree"]],inputs:{project:[1,"project"],displayType:[1,"displayType"]},outputs:{onClicked:"onClicked"},standalone:!0,features:[Oe,N],decls:2,vars:0,consts:[[3,"data","current"],[3,"onClicked","data","current"]],template:function(n,r){n&1&&ie(0,Sn,4,1,null,null,ne),n&2&&oe(r.tableLinks())},dependencies:[G,lt,dt,st,ct]});let i=e;return i})();var ut=(()=>{let e=class e{constructor(){this.p=P.required(),this.current=P(null),this.itemChanged=new pe,this.w=P.required(),this.h=P.required(),this.table=q(new Te)}setCurrent(t){t instanceof Te&&this.table.set(t),this.itemChanged.emit(t)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=K({type:e,selectors:[["schema-component"]],inputs:{p:[1,"p"],current:[1,"current"],w:[1,"w"],h:[1,"h"]},outputs:{itemChanged:"itemChanged"},standalone:!0,features:[N],decls:2,vars:8,consts:[[3,"onClicked","project","displayType"]],template:function(n,r){n&1&&(l(0,"div")(1,"link-tree",0),S("onClicked",function(p){return r.setCurrent(p)}),m()()),n&2&&(H("max-width",r.w(),"px")("max-height",r.h(),"px")("overflow-y","auto"),u(),A("project",r.p())("displayType","SCHEMA"))},dependencies:[G,re,me]});let i=e;return i})();var mt=(()=>{let e=class e{constructor(){this.p=P.required(),this.current=P(null),this.itemChanged=new pe,this.w=P.required(),this.h=P.required(),this.record=q(new $e)}setCurrent(t){t instanceof $e&&this.record.set(t),this.itemChanged.emit(t)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=K({type:e,selectors:[["seed-component"]],inputs:{p:[1,"p"],current:[1,"current"],w:[1,"w"],h:[1,"h"]},outputs:{itemChanged:"itemChanged"},standalone:!0,features:[N],decls:2,vars:8,consts:[[3,"onClicked","project","displayType"]],template:function(n,r){n&1&&(l(0,"div")(1,"link-tree",0),S("onClicked",function(p){return r.setCurrent(p)}),m()()),n&2&&(H("max-width",r.w(),"px")("max-height",r.h(),"px")("overflow-y","auto"),u(),A("project",r.p())("displayType","SEED"))},dependencies:[G,re,me]});let i=e;return i})();var ht=(()=>{let e=class e{constructor(){this.p=P.required(),this.current=P(null),this.itemChanged=new pe,this.w=P.required(),this.h=P.required(),this.route=q(new Ee)}setCurrent(t){t instanceof Ee&&this.route.set(t),this.itemChanged.emit(t)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=K({type:e,selectors:[["api-component"]],inputs:{p:[1,"p"],current:[1,"current"],w:[1,"w"],h:[1,"h"]},outputs:{itemChanged:"itemChanged"},standalone:!0,features:[N],decls:2,vars:8,consts:[[3,"onClicked","project","displayType"]],template:function(n,r){n&1&&(l(0,"div")(1,"link-tree",0),S("onClicked",function(p){return r.setCurrent(p)}),m()()),n&2&&(H("max-width",r.w(),"px")("max-height",r.h(),"px")("overflow-y","auto"),u(),A("project",r.p())("displayType","API"))},dependencies:[G,re,me]});let i=e;return i})();var ft=(()=>{let e=class e{constructor(){this.p=P.required(),this.current=P(null),this.itemChanged=new pe,this.w=P.required(),this.h=P.required(),this.page=q(new Ce)}setCurrent(t){t instanceof Ce&&this.page.set(t),this.itemChanged.emit(t)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=K({type:e,selectors:[["design-component"]],inputs:{p:[1,"p"],current:[1,"current"],w:[1,"w"],h:[1,"h"]},outputs:{itemChanged:"itemChanged"},standalone:!0,features:[N],decls:2,vars:8,consts:[[3,"onClicked","project","displayType"]],template:function(n,r){n&1&&(l(0,"div")(1,"link-tree",0),S("onClicked",function(p){return r.setCurrent(p)}),m()()),n&2&&(H("max-width",r.w(),"px")("max-height",r.h(),"px")("overflow-y","auto"),u(),A("project",r.p())("displayType","DESIGN"))},dependencies:[G,re,me]});let i=e;return i})();var Pn=()=>[".."];function Mn(i,e){if(i&1){let o=j();l(0,"mnu",22),S("dataChanged",function(n){I(o);let r=_(4);return V(r.saveAndClose(n))})("onClicked",function(n){I(o);let r=_(4);return V(r.openMenuAndScroll(n))}),m()}if(i&2){let o=e.$implicit;A("data",o)}}function Fn(i,e){if(i&1&&(l(0,"div")(1,"div",21),ie(2,Mn,1,1,":xhtml:mnu",10,ne),m()()),i&2){let o=_(2).$implicit,t=_();H("max-height",o.h-20,"px")("overflow-y","auto"),u(2),oe(t.menus())}}function On(i,e){if(i&1){let o=j();l(0,"vanilla-builder",23),S("itemChanged",function(n){I(o);let r=_(3);return V(r.setCurrent(n))})("rootUpdated",function(n){I(o);let r=_(3);return V(r.updateRoot(n))})("sourceChanged",function(n){I(o);let r=_(3);return V(r.sourceChanged(n))}),m()}if(i&2){let o=_(2).$implicit,t=_();A("data",t.root)("h",o.h)("current",t.current())}}function Dn(i,e){if(i&1){let o=j();l(0,"ast-canvas",24),S("rootUpdated",function(n){I(o);let r=_(3);return V(r.updateRoot(n))})("itemChanged",function(n){I(o);let r=_(3);return V(r.setCurrent(n))}),m()}if(i&2){let o=_(2).$implicit,t=_();A("data",t.root)("current",t.current())("w",o.w)("h",o.h-50)}}function In(i,e){if(i&1){let o=j();l(0,"pickers",25),S("dataEdited",function(n){I(o);let r=_(3);return V(r.dataUpdated(n))}),m()}if(i&2){let o=_(2).$implicit,t=_();A("data",t.current())("root",t.root)("w",o.w)("h",o.h-50)}}function Vn(i,e){if(i&1){let o=j();l(0,"diagrams",25),S("dataEdited",function(n){I(o);let r=_(3);return V(r.dataUpdated(n))}),m()}if(i&2){let o=_(2).$implicit,t=_();A("data",t.current())("root",t.root)("w",o.w)("h",o.h-50)}}function Rn(i,e){if(i&1){let o=j();l(0,"chat-forms",25),S("dataEdited",function(n){I(o);let r=_(3);return V(r.dataUpdated(n))}),m()}if(i&2){let o=_(2).$implicit,t=_();A("data",t.current())("root",t.root)("w",o.w)("h",o.h-50)}}function Bn(i,e){if(i&1&&b(0,"runner",18),i&2){let o=_(3);A("root",o.root)}}function jn(i,e){if(i&1&&b(0,"emulator-app",19),i&2){let o=_(2).$implicit,t=_();A("isOpen",o.isOpen)("root",t.root)}}function Un(i,e){if(i&1){let o=j();l(0,"schema-component",26),S("itemChanged",function(n){I(o);let r=_(3);return V(r.setCurrent(n))}),m()}if(i&2){let o=_(2).$implicit,t=_();A("p",t.root)("w",o.w-20)("h",o.h-50)("current",t.current())}}function Kn(i,e){if(i&1){let o=j();l(0,"seed-component",26),S("itemChanged",function(n){I(o);let r=_(3);return V(r.setCurrent(n))}),m()}if(i&2){let o=_(2).$implicit,t=_();A("p",t.root)("w",o.w-20)("h",o.h-50)("current",t.current())}}function Nn(i,e){if(i&1){let o=j();l(0,"api-component",26),S("itemChanged",function(n){I(o);let r=_(3);return V(r.setCurrent(n))}),m()}if(i&2){let o=_(2).$implicit,t=_();A("p",t.root)("w",o.w-20)("h",o.h-50)("current",t.current())}}function Hn(i,e){if(i&1){let o=j();l(0,"design-component",26),S("itemChanged",function(n){I(o);let r=_(3);return V(r.setCurrent(n))}),m()}if(i&2){let o=_(2).$implicit,t=_();A("p",t.root)("w",o.w-20)("h",o.h-50)("current",t.current())}}function Wn(i,e){}function Yn(i,e){if(i&1){let o=j();ke(),l(0,"g",13),S("reIndexed",function(n){I(o);let r=_(2);return V(r.reindexItem(n))}),we(),l(1,"div",6),F(2,Fn,4,4,":xhtml:div",14)(3,On,1,3,":xhtml:vanilla-builder",15)(4,Dn,1,4,":xhtml:ast-canvas",16)(5,In,1,4,":xhtml:pickers",17)(6,Vn,1,4,":xhtml:diagrams",17)(7,Rn,1,4,":xhtml:chat-forms",17)(8,Bn,1,1,":xhtml:runner",18)(9,jn,1,2,":xhtml:emulator-app",19)(10,Un,1,4,":xhtml:schema-component",20)(11,Kn,1,4,":xhtml:seed-component",20)(12,Nn,1,4,":xhtml:api-component",20)(13,Hn,1,4,":xhtml:design-component",20)(14,Wn,0,0),m()()}if(i&2){let o=_().$implicit,t=_();A("data",o)("current",t.menu()),Ie("data-id",o.id),u(),H("width",o.w,"px")("height",o.h,"px"),u(),Q(o.role==="Root"?2:o.role==="Builder"?3:o.role==="Canvas"?4:o.role==="Picker"?5:o.role==="Diagram"?6:o.role==="Edit"?7:o.role==="Runner"?8:o.role==="Emulator"?9:o.role==="Schema"?10:o.role==="Seed"?11:o.role==="Api"?12:o.role==="Designer"?13:14)}}function Gn(i,e){if(i&1&&F(0,Yn,15,8,":svg:g",12),i&2){let o=e.$implicit;Q(o.isOpen?0:-1)}}function qn(i,e){if(i&1){let o=j();l(0,"menu-toggle",27),S("menuToggled",function(n){I(o);let r=_();return V(r.menuToggled(n))}),m()}if(i&2){let o=e.$implicit;A("data",o)}}function zn(i,e){if(i&1){let o=j();l(0,"div",11)(1,"mnu",28),S("dataChanged",function(n){I(o);let r=_();return V(r.saveAndClose(n))}),m()()}if(i&2){let o=_();u(),A("data",o.menu())}}var Hr=(()=>{let e=class e{constructor(t,n,r,a){this.store=t,this.service=n,this.route=r,this.nav=a,this.root=new he,this.project=new Ye,this.current=q(new _e),this.menus=q([]),this.customOn=q(!1),this.menu=q(new X),this.maxW=window.innerWidth-20,this.w=window.innerWidth-20,this.h=window.innerHeight-20,this.rootMenu=z(()=>this.menus().find(p=>p.role==="Root")),window.addEventListener("resize",()=>{this.placeShapes()})}ngOnInit(){return ee(this,null,function*(){let t=this.route.snapshot.params.id;t&&(yield this.loadMenus("Project"),this.service.getProject(t).subscribe(n=>ee(this,null,function*(){this.project=n,this.parseCode()})))})}sourceChanged(t){return ee(this,null,function*(){this.project.code=t,yield this.store.updateProject(this.project),this.parseCode()})}parseCode(){if(this.project.code&&this.project.code.length>0){let t=Je.tokenize(this.project.code);if(t.length>0){let n=Xe.parse(t);n.length>0&&(this.root=n[0],this.root.isExpanded=!0,this.current()&&this.current().keyValue().length>0?(this.current.set(this.root),this.expandUp(this.root,this.current())):this.current.set(this.root))}}else{this.root=new he,this.root.key=this.project.key;let t=this.current();if(t&&t.keyValue().length>1){this.current.set(t);return}this.current.set(this.root)}}expandUp(t,n){if(n){let r=n.getValue("Key")?n.getValue("Key"):n.tokenType,a=t.flatten();for(let p of a)if(p.getValue("Key")===r||p.tokenType===r){this.current.set(p),p.isExpanded=!0,this.current().isExpanded=!0,this.current().parent&&this.current&&(this.current().parent.isExpanded=!0,this.current().parent.parent.isExpanded=!0,this.current().parent.parent.parent&&(this.current().parent.parent.parent.isExpanded=!0));break}}t.isExpanded=!0}setCurrent(t){this.current.set(t)}dataUpdated(t){return ee(this,null,function*(){this.current()===t&&this.updateRoot({root:this.root,crnt:this.current()})})}updateRoot(t){return ee(this,null,function*(){this.root===t.root?this.project.code=Se.convert(t.root):this.project.code=Se.convert(this.root),yield this.store.updateProject(this.project),this.parseCode()})}saveAndClose(t){return ee(this,null,function*(){let n=t;this.customOn.set(!1),n.id&&(yield this.store.updateMenu(n),this.placeShapes())})}reindexItem(t){return ee(this,null,function*(){let n=t.data,r=t.event;if(!n&&!n.id){this.placeShapes();return}switch(r){case"on-resize":n.config.maxWidth=n.w,n.config.maxHeight=n.h,yield this.store.updateMenu(n);break;case"on-index":n.zIndex=1;for(let a of this.menus())a!==a&&(a.zIndex=0);break;case"on-move":break;case"on-open":n.isOpen=!n.isOpen,yield this.store.updateMenu(n);break;case"on-tack":n.isTack=!n.isTack,yield this.store.updateMenu(n);break}this.placeShapes(),this.menu.set(n),this.rootMenu().placement==="auto"&&setTimeout(()=>{this.scrollToCurrent(n)},200)})}openMenuAndScroll(t){t.role!=="Root"&&(t.isOpen=!t.isOpen,this.placeShapes())}menuToggled(t){return ee(this,null,function*(){if(!t.id)return;let n=t,r=this.menus().filter(p=>p.isOpen),a=r.findIndex(p=>p.id===n.id);n.isOpen=!n.isOpen,yield this.store.updateMenu(n),this.placeShapes(),n.isOpen||(a===r.length-1?(n=r[a-1],this.menu.set(n)):(n=r[a+1],this.menu.set(n))),setTimeout(()=>{this.scrollToCurrent(n)},500)})}loadMenus(t){return ee(this,null,function*(){let n=yield this.store.getMenus();n.length===0&&(yield this.createNeededMenus(t),n=yield this.store.getMenus());let r=n.filter(a=>a.parentId===t).sort((a,p)=>a.order-p.order);r.length===0?(yield this.createNeededMenus(t),n=yield this.store.getMenus(),r=n.filter(a=>a.parentId===t).sort((a,p)=>a.order-p.order),this.menus.set(r)):this.menus.set(r),this.placeShapes()})}placeShapes(){this.maxW=window.innerWidth-20,this.w=window.innerWidth-20,this.h=window.innerHeight-20;let t=this.menus().filter(d=>d.isOpen),n=20;this.h=window.innerHeight-35;let r=12,a=5;this.maxW=0;let p=this.rootMenu();p||(this.createNeededMenus("Project"),t=this.menus().filter(d=>d.isOpen),p=this.rootMenu()),p?.placement==="fixed"?t.forEach(d=>{(d.x===0||d.x===void 0||d.x<0)&&(d.x=r),(d.y===0||d.y===void 0||d.y<0)&&(d.y=a),(d.config.maxWidth===0||d.config.maxWidth===void 0||d.config.maxWidth<0)&&(d.config.maxWidth=350),(d.config.maxHeight===0||d.config.maxHeight===void 0||d.config.maxHeight<0)&&(d.config.maxHeight=350),d.w=d.config.maxWidth,d.h=d.config.maxHeight,this.maxW+=d.w+n,r+=d.w+n}):t.forEach(d=>{(d.config.maxWidth===0||d.config.maxWidth===void 0||d.config.maxWidth<0)&&(d.config.maxWidth=350),(d.config.maxHeight===0||d.config.maxHeight===void 0||d.config.maxHeight<0)&&(d.config.maxHeight=350),d.w=d.config.maxWidth,d.x=r,d.h=this.h-n*3,d.y=a,r+=d.w+n,this.maxW+=d.w+n}),this.maxW<this.w&&(this.maxW=this.w),this.maxW+=100}createNeededMenus(t){return ee(this,null,function*(){let n=new X;n.id=$.newid(),n.role="Root",n.text="Root",n.parentId=t,n.order=0,n.isOpen=!1,n.config.maxWidth=350,n.config.maxHeight=0,n.placement="auto";let r=new X;r.id=$.newid(),r.x=10,r.y=10,r.role="Builder",r.text="Builder",r.parentId=t,r.order=1,r.isOpen=!0,r.config.maxWidth=350;let a=new X;a.id=$.newid(),a.role="Picker",a.text="Picker",a.parentId=t,a.order=2,a.isOpen=!1,a.config.maxWidth=350;let p=new X;p.id=$.newid(),p.role="Diagram",p.text="Diagram",p.parentId=t,p.order=3,p.isOpen=!1,p.config.maxWidth=350;let d=new X;d.id=$.newid(),d.role="Edit",d.text="Edit",d.parentId=t,d.order=4,d.isOpen=!1,d.config.maxWidth=350;let v=new X;v.id=$.newid(),v.role="Canvas",v.text="Canvas",v.parentId=t,v.order=5,v.isOpen=!0,v.config.maxWidth=750;let y=new X;y.id=$.newid(),y.role="Runner",y.text="Runner",y.parentId=t,y.order=6,y.isOpen=!1,y.config.maxWidth=350;let x=new X;x.id=$.newid(),x.role="Schema",x.text="Schema",x.parentId=t,x.order=7,x.isOpen=!1,x.config.maxWidth=350;let f=new X;f.id=$.newid(),f.role="Seed",f.text="Seed",f.parentId=t,f.order=8,f.isOpen=!1,f.config.maxWidth=650;let g=new X;g.id=$.newid(),g.role="Designer",g.text="Designer",g.parentId=t,g.order=9,g.isOpen=!1,g.config.maxWidth=630;let c=new X;c.id=$.newid(),c.role="Api",c.text="Api",c.parentId=t,c.order=10,c.isOpen=!1,c.config.maxWidth=630;let s=new X;s.id=$.newid(),s.role="Code",s.text="Code",s.parentId=t,s.order=11,s.isOpen=!1,s.config.maxWidth=630;let T=new X;T.id=$.newid(),T.role="Emulator",T.text="Emulator",T.parentId=t,T.order=12,T.isOpen=!1,T.config.maxWidth=650;let M=[];M.push(n),M.push(r),M.push(a),M.push(p),M.push(d),M.push(v),M.push(y),M.push(x),M.push(f),M.push(g),M.push(c),M.push(s),M.push(T);for(let L of M)yield this.store.createMenu(L)})}scrollToCurrent(t){if(this.rootMenu().placement==="auto"){let n=t.id,r=document.querySelector(".project-container");r&&r.scrollTo({left:t.x,behavior:"smooth"})}}};e.\u0275fac=function(n){return new(n||e)(de(fe),de(ot),de(Ke),de(Ne))},e.\u0275cmp=K({type:e,selectors:[["project-detail"]],standalone:!0,features:[N],decls:22,vars:13,consts:[[1,"project"],[1,"project-header"],[1,"header-btns"],[1,"image-btn",3,"routerLink"],[1,"icon"],[1,"project-container"],[1,"non-pannable-svg"],[1,"rightbar"],[1,"fab"],[1,"fab-btn",3,"click"],[3,"data"],[1,"permanent","glass"],["menu-holder","",3,"data","current"],["menu-holder","",3,"reIndexed","data","current"],[3,"maxHeight","overflowY"],[3,"data","h","current"],[3,"data","current","w","h"],[3,"data","root","w","h"],[3,"root"],[3,"isOpen","root"],[3,"p","w","h","current"],[1,"gridcards"],[3,"dataChanged","onClicked","data"],[3,"itemChanged","rootUpdated","sourceChanged","data","h","current"],[3,"rootUpdated","itemChanged","data","current","w","h"],[3,"dataEdited","data","root","w","h"],[3,"itemChanged","p","w","h","current"],[3,"menuToggled","data"],[3,"dataChanged","data"]],template:function(n,r){n&1&&(l(0,"div",0)(1,"div",1),b(2,"button"),l(3,"span"),w(4),m(),l(5,"div",2)(6,"button",3)(7,"span",4),w(8,"arrow_back"),m(),w(9),m()()(),l(10,"div",5),ke(),l(11,"svg",6),ie(12,Gn,1,1,null,null,ne),m()(),we(),l(14,"div",7)(15,"div",8)(16,"button",9),S("click",function(){return r.customOn.set(!r.customOn())}),l(17,"span",4),w(18,"settings"),m()()(),ie(19,qn,1,1,"menu-toggle",10,ne),m()(),F(21,zn,2,1,"div",11)),n&2&&(u(4),Y("Project: ",r.project.key,""),u(2),A("routerLink",je(12,Pn)),u(3),Y(" ",r.project.key," "),u(),H("max-width",r.w,"px")("max-height",r.h,"px"),u(),H("width",r.maxW,"px")("height",r.h,"px"),u(),oe(r.menus()),u(7),oe(r.menus()),u(2),Q(r.customOn()&&r.menu().role!==""?21:-1))},dependencies:[re,He,Ge,qe,Qe,We,be,et,tt,nt,it,at,ut,mt,ht,ft],styles:[`.project{display:grid;grid-template-areas:"project-header" "project-container";grid-template-rows:32px auto;height:100%;width:100%;overflow:hidden;padding:0;margin:0;-webkit-user-select:none;user-select:none}.project-header{grid-area:project-header;display:flex;gap:14px;overflow:hidden;min-height:30px;padding-top:2px;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;color:var(--text-color);align-items:center}.project-container{grid-area:project-container;overflow-y:hidden;overflow-x:auto;scroll-snap-align:center;height:100%;width:100%}.permanent{position:fixed;top:30px;right:71px;z-index:100;margin:0rem;padding:0rem;height:300px;width:255px;background-color:var(--primary-color);border-radius:5px;color:var(--text-color);overflow-y:auto;overflow-x:hidden}.non-pannable-svg{overflow:hidden}
`],encapsulation:2});let i=e;return i})();export{Hr as ProjectDetail};
